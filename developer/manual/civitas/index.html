
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Project technical and user documentation.">
      
      
        <meta name="author" content="Kartoza">
      
      
      
      
      <link rel="icon" href="../../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>MyCivitas - MyCivitas</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/print.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="grey">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#admin" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="MyCivitas" class="md-header__button md-logo" aria-label="MyCivitas" data-md-component="logo">
      
  <img src="../../../img/MyCivitas-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MyCivitas
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MyCivitas
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="grey"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="grey"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/landinfotech/mycivitas" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    MyCivitas
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../user/" class="md-tabs__link">
        User
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../administrator/" class="md-tabs__link">
        Administrators
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        Developers
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../about/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="MyCivitas" class="md-nav__button md-logo" aria-label="MyCivitas" data-md-component="logo">
      
  <img src="../../../img/MyCivitas-logo.png" alt="logo">

    </a>
    MyCivitas
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/landinfotech/mycivitas" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    MyCivitas
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../..">Home</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/code-of-conduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../user/">User</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="User" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          User
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../user/guide/">Guide</a>
          
            <label for="__nav_2_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Guide" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/guide/register-login-logout/" class="md-nav__link">
        Register/Login/Logout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/guide/forgot-password/" class="md-nav__link">
        Forgot Password
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/guide/community-map/" class="md-nav__link">
        Community Map
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/guide/organisation/" class="md-nav__link">
        Organisation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/guide/user-profile/" class="md-nav__link">
        User Profile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/guide/work-order/" class="md-nav__link">
        Work Order
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/guide/dashboard/" class="md-nav__link">
        Dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/guide/view-table/" class="md-nav__link">
        View Table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/guide/contact-us/" class="md-nav__link">
        Contact Us
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../user/manual/">Manual</a>
          
            <label for="__nav_2_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Manual" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/landing-page/" class="md-nav__link">
        Landing Page
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/sign-in/" class="md-nav__link">
        Sign In
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/sign-up/" class="md-nav__link">
        Sign Up
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/forgot-password/" class="md-nav__link">
        Forgot Password
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/logout/" class="md-nav__link">
        Logout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/view-table/" class="md-nav__link">
        View Table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/community-map/" class="md-nav__link">
        Community Map
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/dashboard/" class="md-nav__link">
        Dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/work-order/" class="md-nav__link">
        Work Order
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/profile/" class="md-nav__link">
        Profile Options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/contact-us/" class="md-nav__link">
        Contact Us
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/manual/user-role/" class="md-nav__link">
        User Roles
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../administrator/">Administrators</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Administrators" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Administrators
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../administrator/guide/">Guide</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Guide" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administrator/guide/access-admin-site/" class="md-nav__link">
        Accessing the Administration Site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administrator/guide/manage-user/" class="md-nav__link">
        Manage Users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administrator/guide/manage-organisation/" class="md-nav__link">
        Manage Organisation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../administrator/manual/">Manual</a>
          
            <label for="__nav_3_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Manual" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administrator/manual/admin/" class="md-nav__link">
        Admin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Developers</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../guide/">Guide</a>
          
            <label for="__nav_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Guide" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/prerequisites/" class="md-nav__link">
        Prerequisites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/cloning/" class="md-nav__link">
        Cloning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/workflows/" class="md-nav__link">
        Workflows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/templates/pull-request-template/" class="md-nav__link">
        
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/templates/commit-message-convention/" class="md-nav__link">
        
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../documentation/">Documentation Writing</a>
          
            <label for="__nav_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Documentation Writing" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Documentation Writing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/easy-workflow/" class="md-nav__link">
        Simple Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/overview/" class="md-nav__link">
        Advanced Workflow
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
        
          
            
          
        
          
            
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/">API</a>
          
            <label for="__nav_4_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="API" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/manual/" class="md-nav__link">
        Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/guide/" class="md-nav__link">
        Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../about/">About</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/disclaimer/" class="md-nav__link">
        Disclaimer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<div><h1 id="admin">Admin<a class="headerlink" href="#admin" title="Permanent link">¶</a></h1>


<div class="doc doc-object doc-module">



<h1 id="civitas.admin" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">civitas.admin</span>


<a href="#civitas.admin" class="headerlink" title="Permanent link">¶</a></h1>

    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="civitas.admin.COF" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.COF</span>


<a href="#civitas.admin.COF" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Consequence of Failure</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.CapitalProject" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.CapitalProject</span>


<a href="#civitas.admin.CapitalProject" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Capital project object</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.CapitalProjectFeatureCombination" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.CapitalProjectFeatureCombination</span>


<a href="#civitas.admin.CapitalProjectFeatureCombination" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Capital project feature combinationobject</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.CivicAddress" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.CivicAddress</span>


<a href="#civitas.admin.CivicAddress" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Civic Address object</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.Community" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.Community</span>


<a href="#civitas.admin.Community" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.community._Administrative">_Administrative</span></code></p>


      <p>Administrative community</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.CommunityAdmin" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.CommunityAdmin</span>


<a href="#civitas.admin.CommunityAdmin" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.admin.ModelAdmin">ModelAdmin</span></code></p>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.admin.CommunityAdmin.province" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">province</span>


<a href="#civitas.admin.CommunityAdmin.province" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">province</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return region</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>obj</code></td>
            <td>
                  <code>Community</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/admin/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="k">def</span> <span class="nf">province</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="w">    </span><span class="sd">""" Return region</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">    :param obj:</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">    :type obj: Community</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">    :return:</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">    """</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">province</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.Condition" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.Condition</span>


<a href="#civitas.admin.Condition" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>Condition of feature
1   very good
2   good
3   fair
4   poor
5   very poor</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.Deterioration" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.Deterioration</span>


<a href="#civitas.admin.Deterioration" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>The process of becoming progressively worse.
Contains name and the equation</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.FeatureBase" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.FeatureBase</span>


<a href="#civitas.admin.FeatureBase" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Model for base feature.
Every feature needs to override this model</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.admin.FeatureBase.calculation" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">calculation</span>


<a href="#civitas.admin.FeatureBase.calculation" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">calculation</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Calculate all field that needs calculation</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/feature/feature_base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="k">def</span> <span class="nf">calculation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="w">    </span><span class="sd">""" Calculate all field that needs calculation"""</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">featurecalculation_set</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">():</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">featurecalculation_set</span><span class="o">.</span><span class="n">all</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.FeatureBase.lifespan" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">lifespan</span>


<a href="#civitas.admin.FeatureBase.lifespan" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">lifespan</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return lifespan of feature</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/feature/feature_base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="k">def</span> <span class="nf">lifespan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="w">    </span><span class="sd">""" Return lifespan of feature"""</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">lifespan</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.FeatureBaseAdmin" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.FeatureBaseAdmin</span>


<a href="#civitas.admin.FeatureBaseAdmin" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.admin.ModelAdmin">ModelAdmin</span></code></p>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.admin.FeatureBaseAdmin.age" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">age</span>


<a href="#civitas.admin.FeatureBaseAdmin.age" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">age</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>return age based on calculation</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/admin/feature/feature.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="k">def</span> <span class="nf">age</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="w">    </span><span class="sd">""" return age based on calculation"""</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">():</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">()</span><span class="o">.</span><span class="n">age</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="k">return</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.FeatureBaseAdmin.annual_reserve_cost" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">annual_reserve_cost</span>


<a href="#civitas.admin.FeatureBaseAdmin.annual_reserve_cost" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">annual_reserve_cost</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>return annual reserve cost based on calculation</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/admin/feature/feature.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="k">def</span> <span class="nf">annual_reserve_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="w">    </span><span class="sd">""" return annual reserve cost based on calculation"""</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">():</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">()</span><span class="o">.</span><span class="n">annual_reserve_cost</span><span class="p">()</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>    <span class="k">return</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.FeatureBaseAdmin.estimated_maintenance_cost" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">estimated_maintenance_cost</span>


<a href="#civitas.admin.FeatureBaseAdmin.estimated_maintenance_cost" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">estimated_maintenance_cost</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>return maintenance cost based on calculation</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/admin/feature/feature.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="k">def</span> <span class="nf">estimated_maintenance_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="w">    </span><span class="sd">""" return maintenance cost based on calculation"""</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">():</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">()</span><span class="o">.</span><span class="n">maintenance_cost</span><span class="p">()</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>    <span class="k">return</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.FeatureBaseAdmin.estimated_renewal_cost" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">estimated_renewal_cost</span>


<a href="#civitas.admin.FeatureBaseAdmin.estimated_renewal_cost" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">estimated_renewal_cost</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>return renewal cost based on calculation</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/admin/feature/feature.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="k">def</span> <span class="nf">estimated_renewal_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="w">    </span><span class="sd">""" return renewal cost based on calculation"""</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">():</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">()</span><span class="o">.</span><span class="n">renewal_cost</span><span class="p">()</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="k">return</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.FeatureBaseAdmin.remaining_life" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">remaining_life</span>


<a href="#civitas.admin.FeatureBaseAdmin.remaining_life" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">remaining_life</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>return remaining life based on calculation</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/admin/feature/feature.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="k">def</span> <span class="nf">remaining_life</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="w">    </span><span class="sd">""" return remaining life based on calculation"""</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">():</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">()</span><span class="o">.</span><span class="n">remaining_life</span><span class="p">()</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>    <span class="k">return</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.FeatureBaseAdmin.remaining_life_percent" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">remaining_life_percent</span>


<a href="#civitas.admin.FeatureBaseAdmin.remaining_life_percent" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">remaining_life_percent</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>return remaining life percent based on calculation</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/admin/feature/feature.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="k">def</span> <span class="nf">remaining_life_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="w">    </span><span class="sd">""" return remaining life percent based on calculation"""</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">():</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">calculation</span><span class="p">()</span><span class="o">.</span><span class="n">remaining_life_percent</span><span class="p">()</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>    <span class="k">return</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.FeatureClass" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.FeatureClass</span>


<a href="#civitas.admin.FeatureClass" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>The first Level of the Asset Hierarchy as defined in "Background" Sheet
ie. TRN = Transportation</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.FeatureGeometry" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.FeatureGeometry</span>


<a href="#civitas.admin.FeatureGeometry" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Geometry of feature base</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.admin.FeatureGeometry.geometry" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">geometry</span>


<a href="#civitas.admin.FeatureGeometry.geometry" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">geometry</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>return geometry of feature</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/feature/feature_geometry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="k">def</span> <span class="nf">geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="w">    </span><span class="sd">""" return geometry of feature """</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_point</span><span class="p">:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_point</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_line</span><span class="p">:</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_line</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_polygon</span><span class="p">:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_polygon</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.FeatureProperty" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.FeatureProperty</span>


<a href="#civitas.admin.FeatureProperty" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>This is additional property for the feature</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.FeatureSubClass" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.FeatureSubClass</span>


<a href="#civitas.admin.FeatureSubClass" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>The second Level of the Asset Hierarchy as defined in "Background" Sheet
ie. RD = Roads
It is linked with AssetClass</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.FeatureType" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.FeatureType</span>


<a href="#civitas.admin.FeatureType" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>The third Level of the Asset Hierarchy as defined in "Background" Sheet</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.FeatureTypeCombination" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.FeatureTypeCombination</span>


<a href="#civitas.admin.FeatureTypeCombination" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>Combination between class, subclass and type</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.POF" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.POF</span>


<a href="#civitas.admin.POF" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Probability of Failure</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.Province" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.Province</span>


<a href="#civitas.admin.Province" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.community._Administrative">_Administrative</span></code></p>


      <p>Administrative province</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.Region" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.Region</span>


<a href="#civitas.admin.Region" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.community._Administrative">_Administrative</span></code></p>


      <p>Administrative region</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.ReporterData" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.ReporterData</span>


<a href="#civitas.admin.ReporterData" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Materialized View for reported data</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.admin.ReporterData.by_community" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">by_community</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.admin.ReporterData.by_community" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">by_community</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return reporter_data by community</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-607" name="__codelineno-0-607"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a><span class="k">def</span> <span class="nf">by_community</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a><span class="sd">    Return reporter_data by community</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a><span class="sd">    """</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>    <span class="k">return</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>        <span class="n">community_id</span><span class="o">=</span><span class="n">community</span><span class="o">.</span><span class="n">id</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>    <span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.ReporterData.by_community_all" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">by_community_all</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.admin.ReporterData.by_community_all" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">by_community_all</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return reporter_data by community</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-600" name="__codelineno-0-600"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a><span class="k">def</span> <span class="nf">by_community_all</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a><span class="sd">    Return reporter_data by community</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a><span class="sd">    """</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>    <span class="k">return</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_showall</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.ReporterData.dashboard" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">dashboard</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.admin.ReporterData.dashboard" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">dashboard</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p><em>dashboard</em></p>
<p>Args:
    community (Community): community object</p>
<p>Returns:
    array: dictionary of each cost breakdown</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="k">def</span> <span class="nf">dashboard</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="w">    </span><span class="sd">"""_dashboard_</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">        community (Community): community object</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">        array: dictionary of each cost breakdown</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">    """</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="n">community_id</span><span class="o">=</span><span class="n">community</span><span class="o">.</span><span class="n">id</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="p">)</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>            <span class="n">system_name__in</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>                <span class="s1">'Non-Municipal Infrastructure'</span><span class="p">,</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>                <span class="s1">'Abandoned Infrastructure'</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>                <span class="p">]</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>        <span class="p">)</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>    <span class="n">_dashboard</span> <span class="o">=</span> <span class="n">DashboardData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>  
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>    <span class="n">system_names</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>        <span class="o">.</span><span class="n">distinct</span><span class="p">()</span> \
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>        <span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">Concat</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="s1">''</span><span class="p">)))</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>    <span class="c1">##### Renewal costs of assets #####</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>    <span class="n">_renewal_cost_of_assets_a</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'renewal_cost'</span><span class="p">)</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>    <span class="n">_data_renewal</span><span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'renewal_cost'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'renewal_cost'</span><span class="p">]}</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_renewal_cost_of_assets_a</span><span class="p">]</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>    <span class="n">renewal_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>    <span class="n">qs_renewal</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>        <span class="n">qs_renewal</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span><span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_renewal</span><span class="p">:</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="k">elif</span> <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="n">renewal_sum</span> <span class="o">=</span> <span class="n">renewal_sum</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_renewal</span><span class="p">)</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="n">qs_renewal</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_renewal</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>    <span class="c1">#### End Renewal costs of assets ####</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="c1">##### Maintenance #####</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>    <span class="n">_maintenance_cost_of_assets</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'maintenance_cost'</span><span class="p">)</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>    <span class="n">_data_maintenace</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'maintenance_cost'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'maintenance_cost'</span><span class="p">]}</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_maintenance_cost_of_assets</span><span class="p">]</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="n">maintenance_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="n">qs_maintenance</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>        <span class="n">qs_maintenance</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span><span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_maintenace</span><span class="p">:</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span class="k">elif</span> <span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>            <span class="n">maintenance_sum</span> <span class="o">=</span> <span class="n">maintenance_sum</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">])</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>            <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_maintenance</span><span class="p">)</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>            <span class="n">qs_maintenance</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_maintenance</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">])</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>    <span class="c1">#### End Maintenance ####</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>    <span class="c1">#### Risk Renewal####</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>    <span class="n">_risk_renewal_of_assets</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'risk_level'</span><span class="p">,</span> <span class="s1">'renewal_cost'</span><span class="p">)</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>    <span class="n">_data_renewal_cost_of_assets</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'renewal_cost'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'renewal_cost'</span><span class="p">],</span> <span class="s1">'risk_level'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]}</span> \
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                                     <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_risk_renewal_of_assets</span><span class="p">]</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>    <span class="n">qs_renewal_cost_of_assets</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>    <span class="k">for</span> <span class="n">risk</span> <span class="ow">in</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">:</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>            <span class="n">qs_renewal_cost_of_assets</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> 
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>                                              <span class="s2">"risk_level"</span><span class="p">:</span> <span class="n">risk</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">],</span> 
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>                                              <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>                                              <span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>    <span class="n">risk_renewal_of_assets_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_renewal_cost_of_assets</span><span class="p">:</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>        <span class="n">risk_level</span> <span class="o">=</span> <span class="s1">''</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>            <span class="n">risk_level</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>            <span class="n">risk_level</span> <span class="o">=</span> <span class="s1">'None'</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">"risk_level"</span><span class="p">,</span> <span class="n">risk_level</span><span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>            <span class="n">risk_renewal_of_assets_sum</span> <span class="o">=</span> <span class="n">risk_renewal_of_assets_sum</span> <span class="o">+</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>        <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">)</span> \
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>                       <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span> <span class="ow">and</span> <span class="n">d</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span> <span class="o">==</span> <span class="n">risk_level</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>        <span class="k">if</span> <span class="n">index</span> <span class="p">:</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>            <span class="n">qs_renewal_cost_of_assets</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>    <span class="c1">#### END Risk Renewal####</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>    <span class="c1">#### remaining years renewal cost ####</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>    <span class="n">_remaining_years_renewal_cost</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'renewal_cost'</span><span class="p">)</span> 
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>    <span class="c1">#### End remaining years renewal cost ####</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>    <span class="n">remaining_years_renewal_risk_cost</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'risk_level'</span><span class="p">)</span> \
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>        <span class="o">.</span><span class="n">distinct</span><span class="p">()</span> \
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>        <span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">Concat</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="s1">''</span><span class="p">)),</span> <span class="n">values</span><span class="o">=</span><span class="n">Sum</span><span class="p">(</span><span class="s1">'renewal_cost'</span><span class="p">))</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>    <span class="c1">###### Annual Reserve  #########</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>    <span class="n">_annual_reserve</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'annual_reserve'</span><span class="p">)</span> 
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>    <span class="n">_data_annual_reserve</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'annual_reserve'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'annual_reserve'</span><span class="p">]}</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_annual_reserve</span><span class="p">]</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>    <span class="n">annual_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>    <span class="n">qs_annual_data</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>        <span class="n">qs_annual_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span><span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_annual_reserve</span><span class="p">:</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>        <span class="n">annual_reserve</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">]:</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>            <span class="n">annual_reserve</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>            <span class="n">annual_reserve</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">]</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>        <span class="n">annual_sum</span> <span class="o">=</span> <span class="n">annual_sum</span> <span class="o">+</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">annual_reserve</span><span class="p">)</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>        <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_annual_data</span><span class="p">)</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>        <span class="n">qs_annual_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_annual_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">annual_reserve</span><span class="p">)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>    <span class="c1">###### End Annual Reserve  #########</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>    <span class="n">qs</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>        <span class="p">{</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'renewal_cost'</span><span class="p">,</span> 
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Renewal costs of assets"</span><span class="p">,</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_renewal</span><span class="p">,</span> 
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'non_stacked'</span><span class="p">,</span> 
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">renewal_sum</span><span class="p">},</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Replacement costs are based on current available costs and include the following components: Capital Costs - 65%, Contingency - 15%, Design - 10%, Inspections and Removal - 10%. As a starting point, a default replacement cost is applied for each asset type.  However, in some cases, where the above general formula is not applicable, or requires significantly less or more effort in one of the above areas, a custom cost might have been applied. This value will override the default value.'</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>        <span class="p">},</span>              
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>        <span class="p">{</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'maintenenance_cost'</span><span class="p">,</span> 
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Maintenance costs of assets"</span><span class="p">,</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_maintenance</span><span class="p">,</span> 
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'non_stacked'</span><span class="p">,</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">maintenance_sum</span><span class="p">},</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Maintenance costs are the estimated annual cost to maintain assets. As a starting point, a default value of 10</span><span class="si">% o</span><span class="s1">f the renewal cost is used'</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>        <span class="p">},</span>   
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>        <span class="p">{</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'annual_reserve'</span><span class="p">,</span> 
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Annual Average Infrastructure Demand"</span><span class="p">,</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_annual_data</span><span class="p">,</span> 
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'non_stacked'</span><span class="p">,</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'sum'</span><span class="p">:</span> <span class="n">annual_sum</span><span class="p">},</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>            <span class="s1">'description'</span><span class="p">:</span>  <span class="s2">"This graph uses lifespan projections and renewal costs for a long-term outlook of  infrastructure. This projection is theoretical and is not a realistic indication of spending timelines. A valuable output of this projection is an annualized infrastructure demand, indicated as a dotted line on the graph. This annualized value is obtained by dividing the renewal cost by the lifespan for each asset in the database and then summing the total. As lifespan and renewal cost data are updated, the annual infrastructure demand will update. The annual infrastructure demand could be lowered by committing to operations and maintenance programs to extend lifespans, deciding to rehabilitate versus replace, and more. The values shown in the graph is based on current $ values and the actual value of this average annual investment will increase over time with inflation."</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>        <span class="p">},</span>   
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>        <span class="p">{</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'system_risk_renewal'</span><span class="p">,</span> 
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Risk By System"</span><span class="p">,</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_renewal_cost_of_assets</span><span class="p">,</span> 
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>            <span class="s2">"formatted"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_a</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">),</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>            <span class="s2">"total_bottom"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_a_total</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_a</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">)),</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'stacked_a'</span><span class="p">,</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">risk_renewal_of_assets_sum</span><span class="p">},</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'A risk value is obtained by combining Probability of Failure  (PoF) and Consequence of Failure (CoF) values as per the following matrix. It is common asset management practice to shift the matrix in favour of the consequence of failure,'</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>        <span class="p">},</span>        
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>        <span class="p">{</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'remaining_years_renewal_system'</span><span class="p">,</span> 
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Remaining Years by Renewal Cost by System"</span><span class="p">,</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">_remaining_years_renewal_cost</span><span class="p">,</span> 
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>            <span class="s2">"formatted"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">),</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>            <span class="s2">"total"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_total</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">),</span> <span class="n">system_names</span><span class="o">=</span><span class="n">system_names</span><span class="p">),</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>            <span class="s2">"graph"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_graph</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">),</span> <span class="n">system_names</span><span class="o">=</span><span class="n">system_names</span><span class="p">),</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>            <span class="s2">"pdf_table_1"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_1</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">)),</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>            <span class="s2">"pdf_table_2"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_2</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">)),</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'stacked_b'</span><span class="p">,</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>            <span class="s1">'system_names'</span><span class="p">:</span> <span class="n">system_names</span><span class="p">,</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">risk_renewal_of_assets_sum</span><span class="p">},</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">''</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>        <span class="p">},</span>   
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>        <span class="p">{</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'remaining_years_renewal_risk'</span><span class="p">,</span> 
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Remaining Years by Renewal Cost by Risk"</span><span class="p">,</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">remaining_years_renewal_risk_cost</span><span class="p">,</span> 
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>            <span class="s2">"formatted"</span><span class="p">:</span>  <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">(),</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>            <span class="s2">"graph"</span><span class="p">:</span>  <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_graph</span><span class="p">(</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>            <span class="s2">"total"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_total</span><span class="p">(</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>            <span class="s2">"pdf_table_1"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_1</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>            <span class="s2">"pdf_table_2"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_2</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'stacked_c'</span><span class="p">,</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>            <span class="s1">'risk_levels'</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">,</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">risk_renewal_of_assets_sum</span><span class="p">},</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">''</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>        <span class="p">},</span>  
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>    <span class="p">]</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>    <span class="k">return</span> <span class="n">qs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.ReporterData.summary_cof" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">summary_cof</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.admin.ReporterData.summary_cof" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">summary_cof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return summary of cof for specific community
The return will be grouped by class</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a><span class="k">def</span> <span class="nf">summary_cof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">    Return summary of cof for specific community</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a><span class="sd">    The return will be grouped by class</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a><span class="sd">    """</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>    <span class="n">cof_dict</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_summary</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="s1">'cof_name'</span><span class="p">)</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cof_dict</span><span class="p">:</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'nan'</span> <span class="ow">or</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>                <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>    <span class="k">return</span> <span class="n">cof_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.ReporterData.summary_pof" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">summary_pof</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.admin.ReporterData.summary_pof" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">summary_pof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return summary of pof for specific community
The return will be grouped by class</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-571" name="__codelineno-0-571"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a><span class="k">def</span> <span class="nf">summary_pof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a><span class="sd">    Return summary of pof for specific community</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a><span class="sd">    The return will be grouped by class</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a><span class="sd">    """</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>    <span class="n">pof_dict</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_summary</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="s1">'pof_name'</span><span class="p">)</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">pof_dict</span><span class="p">:</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'nan'</span> <span class="ow">or</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>                <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>    <span class="k">return</span> <span class="n">pof_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.ReporterData.summary_risk" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">summary_risk</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.admin.ReporterData.summary_risk" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">summary_risk</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return summary of risk for specific community
The return will be grouped by class</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-585" name="__codelineno-0-585"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a><span class="k">def</span> <span class="nf">summary_risk</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a><span class="sd">    Return summary of risk for specific community</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a><span class="sd">    The return will be grouped by class</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a><span class="sd">    """</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>    <span class="n">risk_dict</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_summary</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="s1">'risk_level'</span><span class="p">)</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">risk_dict</span><span class="p">:</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'nan'</span> <span class="ow">or</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>                <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>    <span class="k">return</span> <span class="n">risk_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.Risk" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.Risk</span>


<a href="#civitas.admin.Risk" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Probability of Failure</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.System" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.System</span>


<a href="#civitas.admin.System" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>System is a collection of all of feature</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.SystemAdmin" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.SystemAdmin</span>


<a href="#civitas.admin.SystemAdmin" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.admin.ModelAdmin">ModelAdmin</span></code></p>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.admin.SystemAdmin.province" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">province</span>


<a href="#civitas.admin.SystemAdmin.province" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">province</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return province</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>obj</code></td>
            <td>
                  <code>System</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/admin/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="k">def</span> <span class="nf">province</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="w">    </span><span class="sd">""" Return province</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">    :param obj:</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    :type obj: System</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    :return:</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    """</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">community</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">province</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.admin.SystemAdmin.region" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">region</span>


<a href="#civitas.admin.SystemAdmin.region" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">region</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return region</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>obj</code></td>
            <td>
                  <code>System</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/admin/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="k">def</span> <span class="nf">region</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="w">    </span><span class="sd">""" Return region</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">    :param obj:</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="sd">    :type obj: System</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="sd">    :return:</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">    """</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">community</span><span class="o">.</span><span class="n">region</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.admin.Unit" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.admin.Unit</span>


<a href="#civitas.admin.Unit" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>Unit</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><h1 id="api">API<a class="headerlink" href="#api" title="Permanent link">¶</a></h1>


<div class="doc doc-object doc-module">



<h1 id="civitas.api" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">civitas.api</span>


<a href="#civitas.api" class="headerlink" title="Permanent link">¶</a></h1>

    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="civitas.api.AssetClassAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.AssetClassAPI</span>


<a href="#civitas.api.AssetClassAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_pof of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.AssetClassAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.AssetClassAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-235" name="__codelineno-0-235"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>    <span class="p">)</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>    <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"""SELECT DISTINCT </span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a><span class="s2">            mv_features.asset_sub_class, </span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a><span class="s2">            mv_features.asset_identifier,</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a><span class="s2">            mv_features.def_stylename,</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a><span class="s2">            mv_features.type,</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a><span class="s2">            asset_class.description </span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="s2">            FROM asset_class </span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><span class="s2">            LEFT JOIN mv_features ON mv_features.asset_identifier = asset_class.name </span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a><span class="s2">            WHERE mv_features.community_id = </span><span class="si">{</span><span class="n">pk</span><span class="si">}</span><span class="s2">;"""</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>    <span class="k">with</span> <span class="n">connections</span><span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">CIVITAS_DATABASE</span><span class="p">]</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>            <span class="n">asset_sub_class</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>            <span class="n">asset_identifier</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>            <span class="n">def_stylename</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>            <span class="n">asset_type</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>            <span class="n">asset_class</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'asset_class'</span><span class="p">]</span> <span class="o">==</span> <span class="n">asset_class</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">):</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>                <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>                    <span class="s2">"asset_class"</span><span class="p">:</span> <span class="n">asset_class</span><span class="p">,</span> 
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>                    <span class="s2">"asset_identifier"</span><span class="p">:</span> <span class="n">asset_identifier</span><span class="p">,</span> 
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>                    <span class="s2">"asset_sub_class"</span><span class="p">:</span> <span class="p">[{</span><span class="s1">'asset'</span><span class="p">:</span> <span class="n">asset_sub_class</span><span class="p">,</span> <span class="s1">'type'</span><span class="p">:</span> <span class="p">[</span><span class="n">asset_type</span><span class="p">]}],</span> 
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>                    <span class="s2">"def_stylename"</span><span class="p">:</span> <span class="p">[</span><span class="n">def_stylename</span><span class="p">]</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>                <span class="p">})</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>                <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">if</span> <span class="n">_</span><span class="p">[</span><span class="s1">'asset_class'</span><span class="p">]</span> <span class="o">==</span> <span class="n">asset_class</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>    
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'asset'</span><span class="p">]</span> <span class="o">==</span> <span class="n">asset_sub_class</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"asset_sub_class"</span><span class="p">]):</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>                    <span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"asset_sub_class"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">'asset'</span><span class="p">:</span> <span class="n">asset_sub_class</span><span class="p">,</span> <span class="s1">'type'</span><span class="p">:</span> <span class="p">[</span><span class="n">asset_type</span><span class="p">]})</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>                    <span class="n">_index</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"asset_sub_class"</span><span class="p">])</span> <span class="k">if</span> <span class="n">_</span><span class="p">[</span><span class="s1">'asset'</span><span class="p">]</span> <span class="o">==</span> <span class="n">asset_sub_class</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>  
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>                    <span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"asset_sub_class"</span><span class="p">][</span><span class="n">_index</span><span class="p">][</span><span class="s2">"type"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">asset_type</span><span class="p">)</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>        <span class="n">data</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.AssetDataCustomAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.AssetDataCustomAPI</span>


<a href="#civitas.api.AssetDataCustomAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_pof of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.AssetDataCustomAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.AssetDataCustomAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>    <span class="p">)</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>    <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SELECT DISTINCT system_name, asset_identifier FROM mv_features WHERE community_id = </span><span class="si">{</span><span class="n">pk</span><span class="si">}</span><span class="s2">;"</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>    <span class="k">with</span> <span class="n">connections</span><span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">CIVITAS_DATABASE</span><span class="p">]</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>            <span class="n">system_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>            <span class="n">asset_identifier</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'system_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">):</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>                <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">system_name</span><span class="p">,</span> <span class="s2">"asset_identifier"</span><span class="p">:</span> <span class="p">[</span><span class="n">asset_identifier</span><span class="p">]})</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>                <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">if</span> <span class="n">_</span><span class="p">[</span><span class="s1">'system_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>                <span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"asset_identifier"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">asset_identifier</span><span class="p">)</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>        <span class="n">data</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.AssetDataCustomAPI.post" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">post</span>


<a href="#civitas.api.AssetDataCustomAPI.post" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">post</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="nd">@method_decorator</span><span class="p">(</span><span class="n">csrf_exempt</span><span class="p">)</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>    <span class="n">pk</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">[</span><span class="s2">"pk"</span><span class="p">]</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>    <span class="n">selected</span>  <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s2">"selected[]"</span><span class="p">)</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>    <span class="p">)</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>    <span class="n">final_list</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">selected</span><span class="p">:</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>        <span class="n">final_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ReporterData</span><span class="o">.</span><span class="n">_showcustom</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="n">item</span><span class="p">))</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">final_list</span><span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>        <span class="n">final_list</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.AssetDataDefaultAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.AssetDataDefaultAPI</span>


<a href="#civitas.api.AssetDataDefaultAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_pof of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.AssetDataDefaultAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.AssetDataDefaultAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>    <span class="p">)</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>        <span class="n">ReporterData</span><span class="o">.</span><span class="n">_showdefault</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.AssetDataDetailedAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.AssetDataDetailedAPI</span>


<a href="#civitas.api.AssetDataDetailedAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_pof of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.AssetDataDetailedAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.AssetDataDetailedAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>    <span class="p">)</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>        <span class="n">ReporterData</span><span class="o">.</span><span class="n">_showdetailed</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.AssetDataDownloadAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.AssetDataDownloadAPI</span>


<a href="#civitas.api.AssetDataDownloadAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_pof of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.AssetDataDownloadAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.AssetDataDownloadAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>    <span class="p">)</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>        <span class="n">ReporterData</span><span class="o">.</span><span class="n">_showall</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.AssetDataTable" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.AssetDataTable</span>


<a href="#civitas.api.AssetDataTable" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">AssetDataTable</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_pof of ReporterData</p>

                  <details class="quote">
                    <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">features</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">obj_paginator</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">page_range</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">community_id</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.AssetDataTable.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.AssetDataTable.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">,</span> <span class="n">page_num</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">,</span> <span class="n">page_num</span><span class="p">):</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">community_id</span>  <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>    <span class="p">)</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>    <span class="c1">#get data</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">features</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_showall</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">community_id</span> <span class="p">)</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>    <span class="n">per_page</span> <span class="o">=</span> <span class="mi">10</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">obj_paginator</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">,</span> <span class="n">per_page</span><span class="p">)</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>    <span class="n">page</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_paginator</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">page_num</span><span class="p">)</span><span class="o">.</span><span class="n">object_list</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">page_range</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_paginator</span><span class="o">.</span><span class="n">page_range</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>        <span class="s1">'page'</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">page</span><span class="p">),</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>        <span class="s1">'page_range'</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_range</span><span class="p">)</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>    <span class="p">}</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.AssetSubClassAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.AssetSubClassAPI</span>


<a href="#civitas.api.AssetSubClassAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_pof of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.AssetSubClassAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.AssetSubClassAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-288" name="__codelineno-0-288"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>    <span class="p">)</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>    <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SELECT DISTINCT asset_sub_class, asset_identifier FROM mv_features WHERE community_id = </span><span class="si">{</span><span class="n">pk</span><span class="si">}</span><span class="s2">;"</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>    <span class="k">with</span> <span class="n">connections</span><span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">CIVITAS_DATABASE</span><span class="p">]</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>            <span class="n">asset_sub_class</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>            <span class="n">asset_identifier</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'asset_sub_class'</span><span class="p">]</span> <span class="o">==</span> <span class="n">asset_sub_class</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">):</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>                <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"asset_sub_class"</span><span class="p">:</span> <span class="n">asset_sub_class</span><span class="p">,</span> <span class="s2">"asset_identifier"</span><span class="p">:</span> <span class="p">[</span><span class="n">asset_identifier</span><span class="p">]})</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>                <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">if</span> <span class="n">_</span><span class="p">[</span><span class="s1">'asset_sub_class'</span><span class="p">]</span> <span class="o">==</span> <span class="n">asset_sub_class</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>                <span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"asset_identifier"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">asset_identifier</span><span class="p">)</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>        <span class="n">data</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.Community" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.Community</span>


<a href="#civitas.api.Community" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.community._Administrative">_Administrative</span></code></p>


      <p>Administrative community</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.CommunityAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.CommunityAPI</span>


<a href="#civitas.api.CommunityAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return community list</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.CommunityAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.CommunityAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>        <span class="n">CommunitySerializer</span><span class="p">(</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>            <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'name'</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>        <span class="p">)</span><span class="o">.</span><span class="n">data</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.CommunityAccessPermission" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.CommunityAccessPermission</span>


<a href="#civitas.api.CommunityAccessPermission" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.permissions.BasePermission">BasePermission</span></code></p>


      <p>Check if community is accessible by user</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.CommunityCOFAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.CommunityCOFAPI</span>


<a href="#civitas.api.CommunityCOFAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_cof of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.CommunityCOFAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.CommunityCOFAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>    <span class="p">)</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>        <span class="n">ReporterData</span><span class="o">.</span><span class="n">summary_cof</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.CommunityDetailAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.CommunityDetailAPI</span>


<a href="#civitas.api.CommunityDetailAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return community list</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.CommunityDetailAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.CommunityDetailAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span class="p">)</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span class="n">detail</span> <span class="o">=</span> <span class="n">CommunityDetailSerializer</span><span class="p">(</span><span class="n">community</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span class="n">organisation</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">organisation</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="n">detail</span><span class="p">[</span><span class="s1">'organisation'</span><span class="p">]</span> <span class="o">=</span> <span class="n">OrganisationSerializer</span><span class="p">(</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span class="n">organisation</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">detail</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.CommunityDetailSerializer" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.CommunityDetailSerializer</span>


<a href="#civitas.api.CommunityDetailSerializer" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="civitas.serializer.community.CommunitySerializer" href="#civitas.api.CommunitySerializer">CommunitySerializer</a></code></p>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.CommunityDetailSerializer.get_systems" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_systems</span>


<a href="#civitas.api.CommunityDetailSerializer.get_systems" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_systems</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return system of community</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>obj</code></td>
            <td>
                  <code>Community</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="k">def</span> <span class="nf">get_systems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="w">    </span><span class="sd">""" Return system of community</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">    :param obj:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">    :type obj: Community</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">    """</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span class="k">return</span> <span class="n">SystemSerializer</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">system_set</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'name'</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.CommunityPOFAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.CommunityPOFAPI</span>


<a href="#civitas.api.CommunityPOFAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_pof of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.CommunityPOFAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.CommunityPOFAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>    <span class="p">)</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>        <span class="n">ReporterData</span><span class="o">.</span><span class="n">summary_pof</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.CommunityRiskAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.CommunityRiskAPI</span>


<a href="#civitas.api.CommunityRiskAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_risk of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.CommunityRiskAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.CommunityRiskAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span>
<span class="normal"><a href="#__codelineno-0-95">95</a></span>
<span class="normal"><a href="#__codelineno-0-96">96</a></span>
<span class="normal"><a href="#__codelineno-0-97">97</a></span>
<span class="normal"><a href="#__codelineno-0-98">98</a></span>
<span class="normal"><a href="#__codelineno-0-99">99</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>    <span class="p">)</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span class="n">ReporterData</span><span class="o">.</span><span class="n">summary_risk</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.CommunitySerializer" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.CommunitySerializer</span>


<a href="#civitas.api.CommunitySerializer" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.serializers.ModelSerializer">ModelSerializer</span></code></p>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.CommunitySerializer.get_province" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_province</span>


<a href="#civitas.api.CommunitySerializer.get_province" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_province</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return province of community</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>obj</code></td>
            <td>
                  <code>Community</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="k">def</span> <span class="nf">get_province</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="w">    </span><span class="sd">""" Return province of community</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    :param obj:</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    :type obj: Community</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    """</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">province</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.CommunitySerializer.get_region" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_region</span>


<a href="#civitas.api.CommunitySerializer.get_region" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_region</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return region of community</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>obj</code></td>
            <td>
                  <code>Community</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="k">def</span> <span class="nf">get_region</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">    </span><span class="sd">""" Return region of community</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="sd">    :param obj:</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">    :type obj: Community</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">    """</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.FeatureBase" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.FeatureBase</span>


<a href="#civitas.api.FeatureBase" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Model for base feature.
Every feature needs to override this model</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureBase.calculation" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">calculation</span>


<a href="#civitas.api.FeatureBase.calculation" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">calculation</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Calculate all field that needs calculation</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/feature/feature_base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="k">def</span> <span class="nf">calculation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="w">    </span><span class="sd">""" Calculate all field that needs calculation"""</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">featurecalculation_set</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">():</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">featurecalculation_set</span><span class="o">.</span><span class="n">all</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureBase.lifespan" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">lifespan</span>


<a href="#civitas.api.FeatureBase.lifespan" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">lifespan</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return lifespan of feature</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/feature/feature_base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="k">def</span> <span class="nf">lifespan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="w">    </span><span class="sd">""" Return lifespan of feature"""</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">lifespan</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.FeatureDataGeoSerializer" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.FeatureDataGeoSerializer</span>


<a href="#civitas.api.FeatureDataGeoSerializer" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework_gis.serializers.GeoFeatureModelSerializer">GeoFeatureModelSerializer</span></code></p>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureDataGeoSerializer.get_geometry" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_geometry</span>


<a href="#civitas.api.FeatureDataGeoSerializer.get_geometry" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_geometry</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Get geometry</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="k">def</span> <span class="nf">get_geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="w">    </span><span class="sd">""" Get geometry</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">    """</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">featuregeometry</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span class="k">except</span> <span class="n">FeatureGeometry</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureDataGeoSerializer.get_identifier" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_identifier</span>


<a href="#civitas.api.FeatureDataGeoSerializer.get_identifier" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_identifier</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">FeatureBase</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>identifier of object</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="k">def</span> <span class="nf">get_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">FeatureBase</span><span class="p">):</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="w">    </span><span class="sd">""" identifier of object</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">    :type obj: ReporterData</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">    """</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>        <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">obj</span><span class="o">.</span><span class="n">the_class</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s1">.'</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">obj</span><span class="o">.</span><span class="n">sub_class</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">'</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureDataGeoSerializer.to_representation" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">to_representation</span>


<a href="#civitas.api.FeatureDataGeoSerializer.to_representation" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">to_representation</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">FeatureBase</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Additional properties</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="k">def</span> <span class="nf">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">FeatureBase</span><span class="p">):</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="w">    </span><span class="sd">""" Additional properties</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">    """</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span class="n">data</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">FeatureDataGeoSerializer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">to_representation</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>        <span class="n">reporter_data</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">feature_id</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>    <span class="k">except</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>        <span class="n">reporter_data</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="n">system</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">system</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">community</span> <span class="k">if</span> <span class="n">system</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="n">region</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">region</span> <span class="k">if</span> <span class="n">community</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="n">province</span> <span class="o">=</span> <span class="n">region</span><span class="o">.</span><span class="n">province</span> <span class="k">if</span> <span class="n">region</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'feature_id'</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">id</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Label'</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">display_label</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Province'</span><span class="p">]</span> <span class="o">=</span> <span class="n">province</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">province</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Region'</span><span class="p">]</span> <span class="o">=</span> <span class="n">region</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">region</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Community'</span><span class="p">]</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">community</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'System'</span><span class="p">]</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">system</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Asset Class'</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">the_class</span><span class="o">.</span><span class="n">description</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">the_class</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Asset Sub Class'</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">sub_class</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">sub_class</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Condition'</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">condition</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">condition</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Type'</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">type</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Description'</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">description</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span class="k">for</span> <span class="n">feature_property</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">featureproperty_set</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>        <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="n">feature_property</span><span class="o">.</span><span class="n">property</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">title</span><span class="p">()]</span> <span class="o">=</span> <span class="n">feature_property</span><span class="o">.</span><span class="n">value_text</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Install Date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">install_date</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Inspection Date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">inspection_date</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Lifespan'</span><span class="p">]</span> <span class="o">=</span> <span class="n">reporter_data</span><span class="o">.</span><span class="n">lifespan</span> <span class="k">if</span> <span class="n">reporter_data</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Age'</span><span class="p">]</span> <span class="o">=</span> <span class="n">reporter_data</span><span class="o">.</span><span class="n">age</span> <span class="k">if</span> <span class="n">reporter_data</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Remaining Years'</span><span class="p">]</span> <span class="o">=</span> <span class="n">reporter_data</span><span class="o">.</span><span class="n">remaining_years</span> <span class="k">if</span> <span class="n">reporter_data</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Risk Level'</span><span class="p">]</span> <span class="o">=</span> <span class="n">reporter_data</span><span class="o">.</span><span class="n">risk_level</span> <span class="k">if</span> <span class="n">reporter_data</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Probability of Failure'</span><span class="p">]</span> <span class="o">=</span> <span class="n">reporter_data</span><span class="o">.</span><span class="n">pof_name</span> <span class="k">if</span> <span class="n">reporter_data</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Consequence of Failure'</span><span class="p">]</span> <span class="o">=</span> <span class="n">reporter_data</span><span class="o">.</span><span class="n">cof_name</span> <span class="k">if</span> <span class="n">reporter_data</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Renewal Cost'</span><span class="p">]</span> <span class="o">=</span> <span class="n">reporter_data</span><span class="o">.</span><span class="n">renewal_cost</span> <span class="k">if</span> <span class="n">reporter_data</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Annual Reserve'</span><span class="p">]</span> <span class="o">=</span> <span class="n">reporter_data</span><span class="o">.</span><span class="n">annual_reserve</span> <span class="k">if</span> <span class="n">reporter_data</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'Maintenance Cost'</span><span class="p">]</span> <span class="o">=</span> <span class="n">reporter_data</span><span class="o">.</span><span class="n">maintenance_cost</span> <span class="k">if</span> <span class="n">reporter_data</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.FeatureGeojsonDetailAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.FeatureGeojsonDetailAPI</span>


<a href="#civitas.api.FeatureGeojsonDetailAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>get:
Return geojson of a feature</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeojsonDetailAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.FeatureGeojsonDetailAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span class="n">feature</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">FeatureBase</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>        <span class="n">FeatureGeometryGeoSerializer</span><span class="p">(</span><span class="n">feature</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.FeatureGeometryGeoSerializer" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.FeatureGeometryGeoSerializer</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework_gis.serializers.GeoFeatureModelSerializer">GeoFeatureModelSerializer</span></code></p>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeometryGeoSerializer.get_cof" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_cof</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer.get_cof" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_cof</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="k">def</span> <span class="nf">get_cof</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">    """</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">cof</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">cof</span> <span class="k">else</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeometryGeoSerializer.get_condition" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_condition</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer.get_condition" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_condition</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="k">def</span> <span class="nf">get_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">    """</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">condition</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">condition</span> <span class="k">else</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeometryGeoSerializer.get_geometry" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_geometry</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer.get_geometry" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_geometry</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Get geometry</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="k">def</span> <span class="nf">get_geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="w">    </span><span class="sd">""" Get geometry</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">    """</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">featuregeometry</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>    <span class="k">except</span> <span class="n">FeatureGeometry</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeometryGeoSerializer.get_pof" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_pof</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer.get_pof" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_pof</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="k">def</span> <span class="nf">get_pof</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">    """</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">pof</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">pof</span> <span class="k">else</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeometryGeoSerializer.get_quantity" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_quantity</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer.get_quantity" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_quantity</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="k">def</span> <span class="nf">get_quantity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">    """</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>    <span class="k">return</span> <span class="s1">'</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">quantity</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">sub_class</span><span class="o">.</span><span class="n">unit</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">sub_class</span> <span class="k">else</span> <span class="s1">''</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeometryGeoSerializer.get_sub_class" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_sub_class</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer.get_sub_class" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_sub_class</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="k">def</span> <span class="nf">get_sub_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">    """</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">sub_class</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">sub_class</span> <span class="k">else</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeometryGeoSerializer.get_system" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_system</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer.get_system" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_system</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="k">def</span> <span class="nf">get_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    """</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">system</span> <span class="k">else</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeometryGeoSerializer.get_type" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_type</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer.get_type" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="k">def</span> <span class="nf">get_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">    :type obj: FeatureBase</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">    """</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">type</span> <span class="k">else</span> <span class="s1">'-'</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.FeatureGeometryGeoSerializer.to_representation" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">to_representation</span>


<a href="#civitas.api.FeatureGeometryGeoSerializer.to_representation" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">to_representation</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Additional properties</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/serializer/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="k">def</span> <span class="nf">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="w">    </span><span class="sd">""" Additional properties</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">    :type instance: FeatureBase</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">    """</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>    <span class="n">data</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">FeatureGeometryGeoSerializer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">to_representation</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>    <span class="n">data</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'class'</span><span class="p">]</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">the_class</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">instance</span><span class="o">.</span><span class="n">the_class</span> <span class="k">else</span> <span class="s1">'-'</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.ReporterData" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.ReporterData</span>


<a href="#civitas.api.ReporterData" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Materialized View for reported data</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.ReporterData.by_community" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">by_community</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.api.ReporterData.by_community" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">by_community</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return reporter_data by community</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-607" name="__codelineno-0-607"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a><span class="k">def</span> <span class="nf">by_community</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a><span class="sd">    Return reporter_data by community</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a><span class="sd">    """</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>    <span class="k">return</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>        <span class="n">community_id</span><span class="o">=</span><span class="n">community</span><span class="o">.</span><span class="n">id</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>    <span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.ReporterData.by_community_all" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">by_community_all</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.api.ReporterData.by_community_all" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">by_community_all</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return reporter_data by community</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-600" name="__codelineno-0-600"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a><span class="k">def</span> <span class="nf">by_community_all</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a><span class="sd">    Return reporter_data by community</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a><span class="sd">    """</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>    <span class="k">return</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_showall</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.ReporterData.dashboard" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">dashboard</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.api.ReporterData.dashboard" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">dashboard</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p><em>dashboard</em></p>
<p>Args:
    community (Community): community object</p>
<p>Returns:
    array: dictionary of each cost breakdown</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="k">def</span> <span class="nf">dashboard</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="w">    </span><span class="sd">"""_dashboard_</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">        community (Community): community object</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">        array: dictionary of each cost breakdown</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">    """</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="n">community_id</span><span class="o">=</span><span class="n">community</span><span class="o">.</span><span class="n">id</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="p">)</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>            <span class="n">system_name__in</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>                <span class="s1">'Non-Municipal Infrastructure'</span><span class="p">,</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>                <span class="s1">'Abandoned Infrastructure'</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>                <span class="p">]</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>        <span class="p">)</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>    <span class="n">_dashboard</span> <span class="o">=</span> <span class="n">DashboardData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>  
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>    <span class="n">system_names</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>        <span class="o">.</span><span class="n">distinct</span><span class="p">()</span> \
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>        <span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">Concat</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="s1">''</span><span class="p">)))</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>    <span class="c1">##### Renewal costs of assets #####</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>    <span class="n">_renewal_cost_of_assets_a</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'renewal_cost'</span><span class="p">)</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>    <span class="n">_data_renewal</span><span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'renewal_cost'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'renewal_cost'</span><span class="p">]}</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_renewal_cost_of_assets_a</span><span class="p">]</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>    <span class="n">renewal_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>    <span class="n">qs_renewal</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>        <span class="n">qs_renewal</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span><span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_renewal</span><span class="p">:</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="k">elif</span> <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="n">renewal_sum</span> <span class="o">=</span> <span class="n">renewal_sum</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_renewal</span><span class="p">)</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="n">qs_renewal</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_renewal</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>    <span class="c1">#### End Renewal costs of assets ####</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="c1">##### Maintenance #####</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>    <span class="n">_maintenance_cost_of_assets</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'maintenance_cost'</span><span class="p">)</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>    <span class="n">_data_maintenace</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'maintenance_cost'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'maintenance_cost'</span><span class="p">]}</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_maintenance_cost_of_assets</span><span class="p">]</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="n">maintenance_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="n">qs_maintenance</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>        <span class="n">qs_maintenance</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span><span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_maintenace</span><span class="p">:</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span class="k">elif</span> <span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>            <span class="n">maintenance_sum</span> <span class="o">=</span> <span class="n">maintenance_sum</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">])</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>            <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_maintenance</span><span class="p">)</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>            <span class="n">qs_maintenance</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_maintenance</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">])</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>    <span class="c1">#### End Maintenance ####</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>    <span class="c1">#### Risk Renewal####</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>    <span class="n">_risk_renewal_of_assets</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'risk_level'</span><span class="p">,</span> <span class="s1">'renewal_cost'</span><span class="p">)</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>    <span class="n">_data_renewal_cost_of_assets</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'renewal_cost'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'renewal_cost'</span><span class="p">],</span> <span class="s1">'risk_level'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]}</span> \
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                                     <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_risk_renewal_of_assets</span><span class="p">]</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>    <span class="n">qs_renewal_cost_of_assets</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>    <span class="k">for</span> <span class="n">risk</span> <span class="ow">in</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">:</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>            <span class="n">qs_renewal_cost_of_assets</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> 
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>                                              <span class="s2">"risk_level"</span><span class="p">:</span> <span class="n">risk</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">],</span> 
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>                                              <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>                                              <span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>    <span class="n">risk_renewal_of_assets_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_renewal_cost_of_assets</span><span class="p">:</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>        <span class="n">risk_level</span> <span class="o">=</span> <span class="s1">''</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>            <span class="n">risk_level</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>            <span class="n">risk_level</span> <span class="o">=</span> <span class="s1">'None'</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">"risk_level"</span><span class="p">,</span> <span class="n">risk_level</span><span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>            <span class="n">risk_renewal_of_assets_sum</span> <span class="o">=</span> <span class="n">risk_renewal_of_assets_sum</span> <span class="o">+</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>        <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">)</span> \
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>                       <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span> <span class="ow">and</span> <span class="n">d</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span> <span class="o">==</span> <span class="n">risk_level</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>        <span class="k">if</span> <span class="n">index</span> <span class="p">:</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>            <span class="n">qs_renewal_cost_of_assets</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>    <span class="c1">#### END Risk Renewal####</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>    <span class="c1">#### remaining years renewal cost ####</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>    <span class="n">_remaining_years_renewal_cost</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'renewal_cost'</span><span class="p">)</span> 
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>    <span class="c1">#### End remaining years renewal cost ####</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>    <span class="n">remaining_years_renewal_risk_cost</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'risk_level'</span><span class="p">)</span> \
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>        <span class="o">.</span><span class="n">distinct</span><span class="p">()</span> \
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>        <span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">Concat</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="s1">''</span><span class="p">)),</span> <span class="n">values</span><span class="o">=</span><span class="n">Sum</span><span class="p">(</span><span class="s1">'renewal_cost'</span><span class="p">))</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>    <span class="c1">###### Annual Reserve  #########</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>    <span class="n">_annual_reserve</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'annual_reserve'</span><span class="p">)</span> 
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>    <span class="n">_data_annual_reserve</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'annual_reserve'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'annual_reserve'</span><span class="p">]}</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_annual_reserve</span><span class="p">]</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>    <span class="n">annual_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>    <span class="n">qs_annual_data</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>        <span class="n">qs_annual_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span><span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_annual_reserve</span><span class="p">:</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>        <span class="n">annual_reserve</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">]:</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>            <span class="n">annual_reserve</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>            <span class="n">annual_reserve</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">]</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>        <span class="n">annual_sum</span> <span class="o">=</span> <span class="n">annual_sum</span> <span class="o">+</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">annual_reserve</span><span class="p">)</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>        <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_annual_data</span><span class="p">)</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>        <span class="n">qs_annual_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_annual_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">annual_reserve</span><span class="p">)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>    <span class="c1">###### End Annual Reserve  #########</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>    <span class="n">qs</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>        <span class="p">{</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'renewal_cost'</span><span class="p">,</span> 
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Renewal costs of assets"</span><span class="p">,</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_renewal</span><span class="p">,</span> 
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'non_stacked'</span><span class="p">,</span> 
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">renewal_sum</span><span class="p">},</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Replacement costs are based on current available costs and include the following components: Capital Costs - 65%, Contingency - 15%, Design - 10%, Inspections and Removal - 10%. As a starting point, a default replacement cost is applied for each asset type.  However, in some cases, where the above general formula is not applicable, or requires significantly less or more effort in one of the above areas, a custom cost might have been applied. This value will override the default value.'</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>        <span class="p">},</span>              
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>        <span class="p">{</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'maintenenance_cost'</span><span class="p">,</span> 
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Maintenance costs of assets"</span><span class="p">,</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_maintenance</span><span class="p">,</span> 
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'non_stacked'</span><span class="p">,</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">maintenance_sum</span><span class="p">},</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Maintenance costs are the estimated annual cost to maintain assets. As a starting point, a default value of 10</span><span class="si">% o</span><span class="s1">f the renewal cost is used'</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>        <span class="p">},</span>   
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>        <span class="p">{</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'annual_reserve'</span><span class="p">,</span> 
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Annual Average Infrastructure Demand"</span><span class="p">,</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_annual_data</span><span class="p">,</span> 
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'non_stacked'</span><span class="p">,</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'sum'</span><span class="p">:</span> <span class="n">annual_sum</span><span class="p">},</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>            <span class="s1">'description'</span><span class="p">:</span>  <span class="s2">"This graph uses lifespan projections and renewal costs for a long-term outlook of  infrastructure. This projection is theoretical and is not a realistic indication of spending timelines. A valuable output of this projection is an annualized infrastructure demand, indicated as a dotted line on the graph. This annualized value is obtained by dividing the renewal cost by the lifespan for each asset in the database and then summing the total. As lifespan and renewal cost data are updated, the annual infrastructure demand will update. The annual infrastructure demand could be lowered by committing to operations and maintenance programs to extend lifespans, deciding to rehabilitate versus replace, and more. The values shown in the graph is based on current $ values and the actual value of this average annual investment will increase over time with inflation."</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>        <span class="p">},</span>   
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>        <span class="p">{</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'system_risk_renewal'</span><span class="p">,</span> 
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Risk By System"</span><span class="p">,</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_renewal_cost_of_assets</span><span class="p">,</span> 
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>            <span class="s2">"formatted"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_a</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">),</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>            <span class="s2">"total_bottom"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_a_total</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_a</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">)),</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'stacked_a'</span><span class="p">,</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">risk_renewal_of_assets_sum</span><span class="p">},</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'A risk value is obtained by combining Probability of Failure  (PoF) and Consequence of Failure (CoF) values as per the following matrix. It is common asset management practice to shift the matrix in favour of the consequence of failure,'</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>        <span class="p">},</span>        
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>        <span class="p">{</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'remaining_years_renewal_system'</span><span class="p">,</span> 
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Remaining Years by Renewal Cost by System"</span><span class="p">,</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">_remaining_years_renewal_cost</span><span class="p">,</span> 
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>            <span class="s2">"formatted"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">),</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>            <span class="s2">"total"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_total</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">),</span> <span class="n">system_names</span><span class="o">=</span><span class="n">system_names</span><span class="p">),</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>            <span class="s2">"graph"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_graph</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">),</span> <span class="n">system_names</span><span class="o">=</span><span class="n">system_names</span><span class="p">),</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>            <span class="s2">"pdf_table_1"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_1</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">)),</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>            <span class="s2">"pdf_table_2"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_2</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">)),</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'stacked_b'</span><span class="p">,</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>            <span class="s1">'system_names'</span><span class="p">:</span> <span class="n">system_names</span><span class="p">,</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">risk_renewal_of_assets_sum</span><span class="p">},</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">''</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>        <span class="p">},</span>   
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>        <span class="p">{</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'remaining_years_renewal_risk'</span><span class="p">,</span> 
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Remaining Years by Renewal Cost by Risk"</span><span class="p">,</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">remaining_years_renewal_risk_cost</span><span class="p">,</span> 
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>            <span class="s2">"formatted"</span><span class="p">:</span>  <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">(),</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>            <span class="s2">"graph"</span><span class="p">:</span>  <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_graph</span><span class="p">(</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>            <span class="s2">"total"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_total</span><span class="p">(</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>            <span class="s2">"pdf_table_1"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_1</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>            <span class="s2">"pdf_table_2"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_2</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'stacked_c'</span><span class="p">,</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>            <span class="s1">'risk_levels'</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">,</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">risk_renewal_of_assets_sum</span><span class="p">},</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">''</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>        <span class="p">},</span>  
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>    <span class="p">]</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>    <span class="k">return</span> <span class="n">qs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.ReporterData.summary_cof" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">summary_cof</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.api.ReporterData.summary_cof" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">summary_cof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return summary of cof for specific community
The return will be grouped by class</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a><span class="k">def</span> <span class="nf">summary_cof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">    Return summary of cof for specific community</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a><span class="sd">    The return will be grouped by class</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a><span class="sd">    """</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>    <span class="n">cof_dict</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_summary</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="s1">'cof_name'</span><span class="p">)</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cof_dict</span><span class="p">:</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'nan'</span> <span class="ow">or</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>                <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>    <span class="k">return</span> <span class="n">cof_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.ReporterData.summary_pof" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">summary_pof</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.api.ReporterData.summary_pof" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">summary_pof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return summary of pof for specific community
The return will be grouped by class</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-571" name="__codelineno-0-571"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a><span class="k">def</span> <span class="nf">summary_pof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a><span class="sd">    Return summary of pof for specific community</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a><span class="sd">    The return will be grouped by class</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a><span class="sd">    """</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>    <span class="n">pof_dict</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_summary</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="s1">'pof_name'</span><span class="p">)</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">pof_dict</span><span class="p">:</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'nan'</span> <span class="ow">or</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>                <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>    <span class="k">return</span> <span class="n">pof_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.api.ReporterData.summary_risk" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">summary_risk</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.api.ReporterData.summary_risk" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">summary_risk</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return summary of risk for specific community
The return will be grouped by class</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-585" name="__codelineno-0-585"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a><span class="k">def</span> <span class="nf">summary_risk</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a><span class="sd">    Return summary of risk for specific community</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a><span class="sd">    The return will be grouped by class</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a><span class="sd">    """</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>    <span class="n">risk_dict</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_summary</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="s1">'risk_level'</span><span class="p">)</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">risk_dict</span><span class="p">:</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'nan'</span> <span class="ow">or</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>                <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>    <span class="k">return</span> <span class="n">risk_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.ReporterDataDownloadAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.ReporterDataDownloadAPI</span>


<a href="#civitas.api.ReporterDataDownloadAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Download csv file for the reporter data</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.ReporterDataDownloadAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.ReporterDataDownloadAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>    <span class="p">)</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">content_type</span><span class="o">=</span><span class="s1">'text/csv'</span><span class="p">)</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="n">response</span><span class="p">[</span><span class="s1">'Content-Disposition'</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'attachment; filename="</span><span class="si">{</span><span class="n">community</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> Reporter Data.csv"'</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">ReporterDataSerializer</span><span class="p">(</span><span class="n">ReporterData</span><span class="o">.</span><span class="n">by_community</span><span class="p">(</span><span class="n">community</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="n">header</span> <span class="o">=</span> <span class="n">ReporterDataSerializer</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">fields</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="n">writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.ReporterDataGeojsonDetailAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.ReporterDataGeojsonDetailAPI</span>


<a href="#civitas.api.ReporterDataGeojsonDetailAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>get:
Return geojson of a feature</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.ReporterDataGeojsonDetailAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.ReporterDataGeojsonDetailAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/features.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span class="n">feature</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">FeatureBase</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>        <span class="n">FeatureDataGeoSerializer</span><span class="p">(</span><span class="n">feature</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.api.SystemNameAPI" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.api.SystemNameAPI</span>


<a href="#civitas.api.SystemNameAPI" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.views.APIView">APIView</span></code></p>


      <p>Return summary_pof of ReporterData</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.api.SystemNameAPI.get" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#civitas.api.SystemNameAPI.get" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return data of features</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/api/community.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="w">    </span><span class="sd">""" Return data of features """</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>    <span class="n">community</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>        <span class="n">Community</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>    <span class="p">)</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>    <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SELECT DISTINCT system_name, asset_identifier FROM mv_features WHERE community_id = </span><span class="si">{</span><span class="n">pk</span><span class="si">}</span><span class="s2">;"</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>    <span class="k">with</span> <span class="n">connections</span><span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">CIVITAS_DATABASE</span><span class="p">]</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>            <span class="n">system_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>            <span class="n">asset_identifier</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'system_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">):</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>                <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">system_name</span><span class="p">,</span> <span class="s2">"asset_identifier"</span><span class="p">:</span> <span class="p">[</span><span class="n">asset_identifier</span><span class="p">]})</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>                <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">if</span> <span class="n">_</span><span class="p">[</span><span class="s1">'system_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>                <span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"asset_identifier"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">asset_identifier</span><span class="p">)</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>        <span class="n">data</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h1 id="migrations">Migrations<a class="headerlink" href="#migrations" title="Permanent link">¶</a></h1>


<div class="doc doc-object doc-module">



<h1 id="civitas.migrations" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">civitas.migrations</span>


<a href="#civitas.migrations" class="headerlink" title="Permanent link">¶</a></h1>

    <div class="doc doc-contents first">



  <div class="doc doc-children">











  </div>

    </div>

</div><h1 id="models">Models<a class="headerlink" href="#models" title="Permanent link">¶</a></h1>


<div class="doc doc-object doc-module">



<h1 id="civitas.models" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">civitas.models</span>


<a href="#civitas.models" class="headerlink" title="Permanent link">¶</a></h1>

    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="civitas.models.AimsoirFeatureCode" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.AimsoirFeatureCode</span>


<a href="#civitas.models.AimsoirFeatureCode" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>AimsoirFeatureCode</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.COF" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.COF</span>


<a href="#civitas.models.COF" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Consequence of Failure</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.CapitalProject" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.CapitalProject</span>


<a href="#civitas.models.CapitalProject" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Capital project object</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.CapitalProjectFeatureCombination" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.CapitalProjectFeatureCombination</span>


<a href="#civitas.models.CapitalProjectFeatureCombination" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Capital project feature combinationobject</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.CivicAddress" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.CivicAddress</span>


<a href="#civitas.models.CivicAddress" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Civic Address object</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.Community" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.Community</span>


<a href="#civitas.models.Community" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.community._Administrative">_Administrative</span></code></p>


      <p>Administrative community</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.Condition" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.Condition</span>


<a href="#civitas.models.Condition" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>Condition of feature
1   very good
2   good
3   fair
4   poor
5   very poor</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.DashboardData" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.DashboardData</span>


<a href="#civitas.models.DashboardData" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">DashboardData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


                  <details class="quote">
                    <summary>Source code in <code>django_project/civitas/models/view/dashboard_data.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">risk_level_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>        <span class="p">{</span><span class="s2">"risk_level"</span><span class="p">:</span><span class="s2">"Extreme"</span><span class="p">,</span> <span class="s2">"index"</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> 
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>        <span class="p">{</span><span class="s2">"risk_level"</span><span class="p">:</span><span class="s2">"High"</span> <span class="p">,</span> <span class="s2">"index"</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span> 
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>        <span class="p">{</span><span class="s2">"risk_level"</span><span class="p">:</span><span class="s2">"Medium"</span> <span class="p">,</span> <span class="s2">"index"</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> 
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>        <span class="p">{</span><span class="s2">"risk_level"</span><span class="p">:</span><span class="s2">"Low"</span><span class="p">,</span> <span class="s2">"index"</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> 
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>        <span class="p">{</span><span class="s2">"risk_level"</span><span class="p">:</span><span class="s2">"Minimal"</span><span class="p">,</span> <span class="s2">"index"</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> 
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>        <span class="p">{</span><span class="s2">"risk_level"</span><span class="p">:</span><span class="s2">"None"</span><span class="p">,</span> <span class="s2">"index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a>    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.models.DashboardData.stacked_a" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">stacked_a</span>


<a href="#civitas.models.DashboardData.stacked_a" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">stacked_a</span><span class="p">(</span><span class="n">risk_renewal_of_assets</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>risk_renewal_assets_list</p>
<p>Returns:
    formatted list to be used correctly in table</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/dashboard_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="k">def</span> <span class="nf">stacked_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">risk_renewal_of_assets</span><span class="p">):</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="w">    </span><span class="sd">"""risk_renewal_assets_list</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">        formatted list to be used correctly in table</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    """</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="n">risk_renewal_formatted_list</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>    <span class="n">total_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">risk_renewal_of_assets</span><span class="p">):</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>        <span class="k">if</span> <span class="n">k</span><span class="p">[</span><span class="s2">"values"</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>            <span class="n">values</span> <span class="o">=</span> <span class="n">k</span><span class="p">[</span><span class="s2">"values"</span><span class="p">]</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>            <span class="n">values</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>        <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">risk_renewal_formatted_list</span><span class="p">:</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>            <span class="n">risk_renewal_formatted_list</span>\
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>                <span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>                    <span class="s1">'system_name'</span><span class="p">:</span> <span class="n">k</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> 
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>                    <span class="s2">"risk"</span><span class="p">:</span> <span class="p">[],</span> 
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>                    <span class="s2">"total_value"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>                    <span class="s2">"total_per"</span><span class="p">:</span> <span class="mi">0</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>                <span class="p">})</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>            <span class="n">total_sum</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">total_sum</span><span class="p">)</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span class="n">final_risk_renewal</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">risk_renewal_formatted_list</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">risk_renewal_formatted_list</span><span class="p">[:</span><span class="n">j</span><span class="p">]]</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">risk_renewal_of_assets</span><span class="p">):</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">final_risk_renewal</span><span class="p">:</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>            <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="s1">'system_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]:</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>                <span class="n">value</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>                <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s2">"values"</span><span class="p">]</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"NaN"</span> <span class="ow">or</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s2">"values"</span><span class="p">]</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"nan"</span><span class="p">:</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>                    <span class="n">_values</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>                <span class="k">elif</span> <span class="n">val</span><span class="p">[</span><span class="s2">"values"</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>                    <span class="n">_values</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s2">"values"</span><span class="p">]</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>                    <span class="n">_values</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>                <span class="n">key</span><span class="p">[</span><span class="s2">"risk"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"risk_level"</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span> <span class="s2">"values"</span><span class="p">:</span> <span class="n">_values</span><span class="p">})</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>                <span class="n">key</span><span class="p">[</span><span class="s2">"total_value"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">key</span><span class="p">[</span><span class="s2">"total_value"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">_values</span><span class="p">)</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>                <span class="n">key</span><span class="p">[</span><span class="s2">"total_per"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">key</span><span class="p">[</span><span class="s2">"total_value"</span><span class="p">]</span> <span class="p">)</span> <span class="o">/</span> <span class="n">total_sum</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span class="k">return</span> <span class="n">final_risk_renewal</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.DashboardData.stacked_b_graph" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">stacked_b_graph</span>


<a href="#civitas.models.DashboardData.stacked_b_graph" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">stacked_b_graph</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span> <span class="n">system_names</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>remaining_years_renewal_system</p>
<p>Returns:
    formatted list to be used correctly in graph</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/dashboard_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="k">def</span> <span class="nf">stacked_b_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list</span><span class="p">,</span> <span class="n">system_names</span><span class="p">):</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="w">    </span><span class="sd">"""remaining_years_renewal_system</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">        formatted list to be used correctly in graph</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">    """</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>    <span class="n">formatted_list</span> <span class="o">=</span> <span class="p">[]</span>   
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>    <span class="c1"># start with basic list</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>    <span class="k">for</span> <span class="n">system</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>        <span class="n">formatted_list</span>\
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>            <span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">'name'</span><span class="p">:</span> <span class="n">system</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> 
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>                               <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'bar'</span><span class="p">,</span> 
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>                               <span class="s1">'x'</span><span class="p">:</span> <span class="p">[],</span> 
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>                               <span class="s1">'y'</span><span class="p">:</span> <span class="p">[]}</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>                            <span class="p">)</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>    <span class="k">for</span> <span class="nb">input</span> <span class="ow">in</span> <span class="n">input_list</span><span class="p">:</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>        <span class="k">for</span> <span class="nb">list</span> <span class="ow">in</span> <span class="n">formatted_list</span><span class="p">:</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>            <span class="k">for</span> <span class="n">asset</span> <span class="ow">in</span> <span class="nb">input</span><span class="p">[</span><span class="s1">'asset'</span><span class="p">]:</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>                <span class="k">if</span> <span class="nb">list</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">asset</span><span class="p">[</span><span class="s1">'system_name'</span><span class="p">]:</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>                    <span class="nb">list</span><span class="p">[</span><span class="s2">"x"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">input</span><span class="p">[</span><span class="s2">"remaining_years"</span><span class="p">])</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">asset</span><span class="p">[</span><span class="s2">"values"</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">asset</span><span class="p">[</span><span class="s2">"values"</span><span class="p">],</span> <span class="n">Decimal</span><span class="p">):</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>                        <span class="nb">list</span><span class="p">[</span><span class="s2">"y"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">asset</span><span class="p">[</span><span class="s2">"values"</span><span class="p">]))</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="k">return</span> <span class="n">formatted_list</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.DashboardData.stacked_b_list" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">stacked_b_list</span>


<a href="#civitas.models.DashboardData.stacked_b_list" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>remaining_years_renewal_system</p>
<p>Returns:
    formatted list to be used correctly in table and graph</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/dashboard_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="k">def</span> <span class="nf">stacked_b_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_names</span><span class="p">):</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="w">    </span><span class="sd">"""remaining_years_renewal_system</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">        formatted list to be used correctly in table and graph</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">    """</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>    <span class="c1"># find lowest value</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>    <span class="c1"># lowest = (min(data, key=lambda x:x['remaining_years']))</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>    <span class="c1"># create interval of 5 years</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span class="n">remaining_years_formatted_list</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">95</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">):</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>        <span class="n">remaining_years_formatted_list</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>            <span class="s1">'remaining_years'</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> 
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>            <span class="s1">'asset'</span><span class="p">:</span> <span class="p">[],</span> 
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>            <span class="s1">'total'</span><span class="p">:</span> <span class="mi">0</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span class="p">})</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>    <span class="c1"># append data to list for interval</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">remaining_years_formatted_list</span><span class="p">:</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>            <span class="n">str_split</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s2">"remaining_years"</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">" - "</span><span class="p">)</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>            <span class="nb">min</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">str_split</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>            <span class="nb">max</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">str_split</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>            <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">remaining_years</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>                <span class="n">remaining_years</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">remaining_years</span> 
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>                <span class="n">remaining_years</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>            <span class="k">if</span> <span class="nb">min</span> <span class="o">&lt;=</span> <span class="n">remaining_years</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">:</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>                <span class="k">if</span> <span class="nb">min</span> <span class="o">&lt;=</span> <span class="n">remaining_years</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">:</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>                    <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span><span class="p">)</span> <span class="o">==</span> <span class="s2">"NaN"</span><span class="p">:</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>                        <span class="n">renewal_cost</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>                    <span class="k">elif</span> <span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">:</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>                        <span class="n">renewal_cost</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>                        <span class="n">renewal_cost</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'system_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">k</span><span class="o">.</span><span class="n">system_name</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">val</span><span class="p">[</span><span class="s1">'asset'</span><span class="p">]):</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>                        <span class="n">val</span><span class="p">[</span><span class="s2">"asset"</span><span class="p">]</span>\
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>                        <span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>                            <span class="s1">'system_name'</span><span class="p">:</span> <span class="n">k</span><span class="o">.</span><span class="n">system_name</span><span class="p">,</span> 
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>                            <span class="s1">'values'</span><span class="p">:</span> <span class="n">renewal_cost</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>                        <span class="p">})</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>                        <span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">]</span> <span class="o">+</span> <span class="n">renewal_cost</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>                        <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s1">'asset'</span><span class="p">])</span> <span class="k">if</span> <span class="n">_</span><span class="p">[</span><span class="s1">'system_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">k</span><span class="o">.</span><span class="n">system_name</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>                        <span class="n">val</span><span class="p">[</span><span class="s1">'asset'</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s1">'values'</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s1">'asset'</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s1">'values'</span><span class="p">]</span> <span class="o">+</span> <span class="n">renewal_cost</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>                        <span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">]</span> <span class="o">+</span> <span class="n">renewal_cost</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>    <span class="c1"># add system names where value is 0 for graph to work correctly</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">remaining_years_formatted_list</span><span class="p">:</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>        <span class="k">for</span> <span class="n">system</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'system_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">system</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">k</span><span class="p">[</span><span class="s2">"asset"</span><span class="p">]):</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>                <span class="n">k</span><span class="p">[</span><span class="s2">"asset"</span><span class="p">]</span>\
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>                    <span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>                        <span class="s1">'system_name'</span><span class="p">:</span> <span class="n">system</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> 
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>                        <span class="s1">'values'</span><span class="p">:</span> <span class="mf">0.00</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>                    <span class="p">})</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>    <span class="c1"># sort list alphabetically</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">remaining_years_formatted_list</span><span class="p">:</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>        <span class="n">new_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="s1">'asset'</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">))</span>     
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>        <span class="n">k</span><span class="p">[</span><span class="s1">'asset'</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_list</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>    <span class="k">return</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">remaining_years_formatted_list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.DashboardData.stacked_c_graph" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">stacked_c_graph</span>


<a href="#civitas.models.DashboardData.stacked_c_graph" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">stacked_c_graph</span><span class="p">(</span><span class="n">input_list</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>remaining_years_renewal_system</p>
<p>Returns:
    formatted list to be used correctly in graph</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/dashboard_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-300" name="__codelineno-0-300"></a><span class="k">def</span> <span class="nf">stacked_c_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list</span><span class="p">):</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a><span class="w">    </span><span class="sd">"""remaining_years_renewal_system</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a><span class="sd">        formatted list to be used correctly in graph</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">    """</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>    <span class="n">formatted_list</span> <span class="o">=</span> <span class="p">[]</span>   
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>    <span class="c1"># start with basic list</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>    <span class="k">for</span> <span class="n">risk</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">:</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>        <span class="n">formatted_list</span>\
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>            <span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>                <span class="s1">'name'</span><span class="p">:</span> <span class="n">risk</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">],</span> 
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>                <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">'y'</span><span class="p">:</span> <span class="p">[]</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>            <span class="p">})</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>    <span class="k">for</span> <span class="nb">input</span> <span class="ow">in</span> <span class="n">input_list</span><span class="p">:</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>        <span class="k">for</span> <span class="n">asset</span> <span class="ow">in</span> <span class="nb">input</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]:</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>            <span class="k">for</span> <span class="nb">list</span> <span class="ow">in</span> <span class="n">formatted_list</span><span class="p">:</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>                <span class="k">if</span> <span class="nb">list</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">asset</span><span class="p">[</span><span class="s1">'level'</span><span class="p">]:</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>                    <span class="nb">list</span><span class="p">[</span><span class="s2">"x"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">input</span><span class="p">[</span><span class="s2">"remaining_years"</span><span class="p">])</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>                    <span class="nb">list</span><span class="p">[</span><span class="s2">"y"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">asset</span><span class="p">[</span><span class="s2">"values"</span><span class="p">])</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>    <span class="k">return</span> <span class="n">formatted_list</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.DashboardData.stacked_c_list" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">stacked_c_list</span>


<a href="#civitas.models.DashboardData.stacked_c_list" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">stacked_c_list</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>remaining_years_renewal_system</p>
<p>Returns:
    formatted list to be used correctly in table and graph</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/dashboard_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="k">def</span> <span class="nf">stacked_c_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="w">        </span><span class="sd">"""remaining_years_renewal_system</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">            formatted list to be used correctly in table and graph</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><span class="sd">        """</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>        <span class="c1"># create interval of 5 years</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>        <span class="n">remaining_years_formatted_list</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">95</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">):</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>            <span class="n">remaining_years_formatted_list</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>                <span class="s1">'remaining_years'</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> 
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>                <span class="s1">'risk_level'</span><span class="p">:</span> <span class="p">[],</span> 
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>                <span class="s1">'total'</span><span class="p">:</span> <span class="mi">0</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>            <span class="p">})</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span class="c1"># append data to list for interval</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>            <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">remaining_years_formatted_list</span><span class="p">:</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>                <span class="n">str_split</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s2">"remaining_years"</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">" - "</span><span class="p">)</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>                <span class="nb">min</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">str_split</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>                <span class="nb">max</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">str_split</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>                <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">remaining_years</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>                    <span class="n">remaining_years</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">remaining_years</span> 
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>                    <span class="n">remaining_years</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>                <span class="k">if</span> <span class="nb">min</span> <span class="o">&lt;=</span> <span class="n">remaining_years</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">:</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>                    <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">risk_level</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>                            <span class="n">risk_lev</span> <span class="o">=</span> <span class="s2">"None"</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>                        <span class="n">risk_lev</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">risk_level</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>                    <span class="n">risk_level_index</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">)</span> <span class="k">if</span> <span class="n">_</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]</span> <span class="o">==</span> <span class="n">risk_lev</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'level'</span><span class="p">]</span> <span class="o">==</span> <span class="n">risk_lev</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]):</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>                        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>                            <span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mf">0.00</span><span class="p">)</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>                            <span class="n">val</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span>\
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>                            <span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">'level'</span><span class="p">:</span> <span class="n">risk_lev</span><span class="p">,</span> 
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>                                    <span class="s1">'values'</span><span class="p">:</span> <span class="mf">0.00</span><span class="p">,</span> 
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>                                    <span class="s1">'index'</span><span class="p">:</span> <span class="mi">0</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>                                    <span class="p">})</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>                        <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>                            <span class="n">val</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span>\
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>                                <span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>                                    <span class="s1">'level'</span><span class="p">:</span> <span class="n">risk_lev</span><span class="p">,</span> 
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>                                    <span class="s1">'values'</span><span class="p">:</span> <span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span><span class="p">,</span> 
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>                                    <span class="s1">'index'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">[</span><span class="n">risk_level_index</span><span class="p">][</span><span class="s1">'index'</span><span class="p">]</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>                                <span class="p">})</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>                            <span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span><span class="p">)</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>                        <span class="k">else</span><span class="p">:</span> 
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>                            <span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mf">0.00</span><span class="p">)</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>                            <span class="n">val</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span>\
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>                            <span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">'level'</span><span class="p">:</span> <span class="n">risk_lev</span><span class="p">,</span> 
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>                                    <span class="s1">'values'</span><span class="p">:</span> <span class="mf">0.00</span><span class="p">,</span> 
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>                                    <span class="s1">'index'</span><span class="p">:</span> <span class="mi">0</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>                                    <span class="p">})</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>                        <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">])</span> <span class="k">if</span> <span class="n">_</span><span class="p">[</span><span class="s1">'level'</span><span class="p">]</span> <span class="o">==</span> <span class="n">risk_lev</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>                        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>                            <span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s1">'values'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s1">'values'</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>                            <span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>                        <span class="k">elif</span> <span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>                            <span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s1">'values'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s1">'values'</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span><span class="p">)</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>                            <span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s1">'total'</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">renewal_cost</span><span class="p">)</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>        <span class="c1"># add system names where value is 0 for graph to work correctly</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">remaining_years_formatted_list</span><span class="p">:</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>            <span class="k">for</span> <span class="n">lev</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">:</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'level'</span><span class="p">]</span> <span class="o">==</span> <span class="n">lev</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">k</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]):</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>                    <span class="n">risk_level_index</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">)</span> <span class="k">if</span> <span class="n">_</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]</span> <span class="o">==</span> <span class="n">lev</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>                    <span class="n">k</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span>\
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>                        <span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>                            <span class="s1">'level'</span><span class="p">:</span> <span class="n">lev</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">],</span> 
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>                            <span class="s1">'values'</span><span class="p">:</span> <span class="mf">0.00</span><span class="p">,</span> 
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>                            <span class="s1">'index'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">[</span><span class="n">risk_level_index</span><span class="p">][</span><span class="s1">'index'</span><span class="p">]</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>                        <span class="p">})</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>        <span class="c1"># sort list from highest to lowest</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">remaining_years_formatted_list</span><span class="p">:</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>            <span class="n">new_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="s1">'index'</span><span class="p">))</span>     
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>            <span class="n">k</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">new_list</span><span class="p">)</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>        <span class="k">return</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">remaining_years_formatted_list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.Deterioration" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.Deterioration</span>


<a href="#civitas.models.Deterioration" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>The process of becoming progressively worse.
Contains name and the equation</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.FeatureBase" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.FeatureBase</span>


<a href="#civitas.models.FeatureBase" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Model for base feature.
Every feature needs to override this model</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.models.FeatureBase.calculation" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">calculation</span>


<a href="#civitas.models.FeatureBase.calculation" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">calculation</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Calculate all field that needs calculation</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/feature/feature_base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="k">def</span> <span class="nf">calculation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="w">    </span><span class="sd">""" Calculate all field that needs calculation"""</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">featurecalculation_set</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">():</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">featurecalculation_set</span><span class="o">.</span><span class="n">all</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.FeatureBase.lifespan" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">lifespan</span>


<a href="#civitas.models.FeatureBase.lifespan" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">lifespan</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return lifespan of feature</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/feature/feature_base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="k">def</span> <span class="nf">lifespan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="w">    </span><span class="sd">""" Return lifespan of feature"""</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">lifespan</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.FeatureClass" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.FeatureClass</span>


<a href="#civitas.models.FeatureClass" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>The first Level of the Asset Hierarchy as defined in "Background" Sheet
ie. TRN = Transportation</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.FeatureGeometry" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.FeatureGeometry</span>


<a href="#civitas.models.FeatureGeometry" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Geometry of feature base</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.models.FeatureGeometry.geometry" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">geometry</span>


<a href="#civitas.models.FeatureGeometry.geometry" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">geometry</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>return geometry of feature</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/feature/feature_geometry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="k">def</span> <span class="nf">geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="w">    </span><span class="sd">""" return geometry of feature """</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_point</span><span class="p">:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_point</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_line</span><span class="p">:</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_line</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_polygon</span><span class="p">:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geom_polygon</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.FeatureProperty" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.FeatureProperty</span>


<a href="#civitas.models.FeatureProperty" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>This is additional property for the feature</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.FeatureSubClass" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.FeatureSubClass</span>


<a href="#civitas.models.FeatureSubClass" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>The second Level of the Asset Hierarchy as defined in "Background" Sheet
ie. RD = Roads
It is linked with AssetClass</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.FeatureType" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.FeatureType</span>


<a href="#civitas.models.FeatureType" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>The third Level of the Asset Hierarchy as defined in "Background" Sheet</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.FeatureTypeCombination" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.FeatureTypeCombination</span>


<a href="#civitas.models.FeatureTypeCombination" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>Combination between class, subclass and type</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.POF" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.POF</span>


<a href="#civitas.models.POF" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Probability of Failure</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.Property" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.Property</span>


<a href="#civitas.models.Property" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>This is property for feature</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.Province" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.Province</span>


<a href="#civitas.models.Province" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.community._Administrative">_Administrative</span></code></p>


      <p>Administrative province</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.Region" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.Region</span>


<a href="#civitas.models.Region" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.community._Administrative">_Administrative</span></code></p>


      <p>Administrative region</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.ReporterData" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.ReporterData</span>


<a href="#civitas.models.ReporterData" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.gis.db.models.Model">Model</span></code></p>


      <p>Materialized View for reported data</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="civitas.models.ReporterData.by_community" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">by_community</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.models.ReporterData.by_community" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">by_community</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return reporter_data by community</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-607" name="__codelineno-0-607"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a><span class="k">def</span> <span class="nf">by_community</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a><span class="sd">    Return reporter_data by community</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a><span class="sd">    """</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>    <span class="k">return</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>        <span class="n">community_id</span><span class="o">=</span><span class="n">community</span><span class="o">.</span><span class="n">id</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>    <span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.ReporterData.by_community_all" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">by_community_all</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.models.ReporterData.by_community_all" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">by_community_all</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return reporter_data by community</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-600" name="__codelineno-0-600"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a><span class="k">def</span> <span class="nf">by_community_all</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a><span class="sd">    Return reporter_data by community</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a><span class="sd">    """</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>    <span class="k">return</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_showall</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.ReporterData.dashboard" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">dashboard</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.models.ReporterData.dashboard" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">dashboard</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p><em>dashboard</em></p>
<p>Args:
    community (Community): community object</p>
<p>Returns:
    array: dictionary of each cost breakdown</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="k">def</span> <span class="nf">dashboard</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="w">    </span><span class="sd">"""_dashboard_</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">        community (Community): community object</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">        array: dictionary of each cost breakdown</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">    """</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="n">community_id</span><span class="o">=</span><span class="n">community</span><span class="o">.</span><span class="n">id</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="p">)</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>            <span class="n">system_name__in</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>                <span class="s1">'Non-Municipal Infrastructure'</span><span class="p">,</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>                <span class="s1">'Abandoned Infrastructure'</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>                <span class="p">]</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>        <span class="p">)</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>    <span class="n">_dashboard</span> <span class="o">=</span> <span class="n">DashboardData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>  
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>    <span class="n">system_names</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>        <span class="o">.</span><span class="n">distinct</span><span class="p">()</span> \
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>        <span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">Concat</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="s1">''</span><span class="p">)))</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>    <span class="c1">##### Renewal costs of assets #####</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>    <span class="n">_renewal_cost_of_assets_a</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'renewal_cost'</span><span class="p">)</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>    <span class="n">_data_renewal</span><span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'renewal_cost'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'renewal_cost'</span><span class="p">]}</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_renewal_cost_of_assets_a</span><span class="p">]</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>    <span class="n">renewal_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>    <span class="n">qs_renewal</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>        <span class="n">qs_renewal</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span><span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_renewal</span><span class="p">:</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="k">elif</span> <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="n">renewal_sum</span> <span class="o">=</span> <span class="n">renewal_sum</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_renewal</span><span class="p">)</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="n">qs_renewal</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_renewal</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>    <span class="c1">#### End Renewal costs of assets ####</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="c1">##### Maintenance #####</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>    <span class="n">_maintenance_cost_of_assets</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'maintenance_cost'</span><span class="p">)</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>    <span class="n">_data_maintenace</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'maintenance_cost'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'maintenance_cost'</span><span class="p">]}</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_maintenance_cost_of_assets</span><span class="p">]</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="n">maintenance_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="n">qs_maintenance</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>        <span class="n">qs_maintenance</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span><span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_maintenace</span><span class="p">:</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span class="k">elif</span> <span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>            <span class="n">maintenance_sum</span> <span class="o">=</span> <span class="n">maintenance_sum</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">])</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>            <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_maintenance</span><span class="p">)</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>            <span class="n">qs_maintenance</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_maintenance</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"maintenance_cost"</span><span class="p">])</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>    <span class="c1">#### End Maintenance ####</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>    <span class="c1">#### Risk Renewal####</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>    <span class="n">_risk_renewal_of_assets</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'risk_level'</span><span class="p">,</span> <span class="s1">'renewal_cost'</span><span class="p">)</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>    <span class="n">_data_renewal_cost_of_assets</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'renewal_cost'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'renewal_cost'</span><span class="p">],</span> <span class="s1">'risk_level'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]}</span> \
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                                     <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_risk_renewal_of_assets</span><span class="p">]</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>    <span class="n">qs_renewal_cost_of_assets</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>    <span class="k">for</span> <span class="n">risk</span> <span class="ow">in</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">:</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>            <span class="n">qs_renewal_cost_of_assets</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> 
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>                                              <span class="s2">"risk_level"</span><span class="p">:</span> <span class="n">risk</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">],</span> 
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>                                              <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>                                              <span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>    <span class="n">risk_renewal_of_assets_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_renewal_cost_of_assets</span><span class="p">:</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>        <span class="n">risk_level</span> <span class="o">=</span> <span class="s1">''</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s1">'risk_level'</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>            <span class="n">risk_level</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>            <span class="n">risk_level</span> <span class="o">=</span> <span class="s1">'None'</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">"risk_level"</span><span class="p">,</span> <span class="n">risk_level</span><span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]:</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>            <span class="n">risk_renewal_of_assets_sum</span> <span class="o">=</span> <span class="n">risk_renewal_of_assets_sum</span> <span class="o">+</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>        <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">)</span> \
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>                       <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span> <span class="ow">and</span> <span class="n">d</span><span class="p">[</span><span class="s2">"risk_level"</span><span class="p">]</span> <span class="o">==</span> <span class="n">risk_level</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>        <span class="k">if</span> <span class="n">index</span> <span class="p">:</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>            <span class="n">qs_renewal_cost_of_assets</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"renewal_cost"</span><span class="p">])</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>    <span class="c1">#### END Risk Renewal####</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>    <span class="c1">#### remaining years renewal cost ####</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>    <span class="n">_remaining_years_renewal_cost</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'renewal_cost'</span><span class="p">)</span> 
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>    <span class="c1">#### End remaining years renewal cost ####</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>    <span class="n">remaining_years_renewal_risk_cost</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'risk_level'</span><span class="p">)</span> \
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>        <span class="o">.</span><span class="n">distinct</span><span class="p">()</span> \
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>        <span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">Concat</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="s1">''</span><span class="p">)),</span> <span class="n">values</span><span class="o">=</span><span class="n">Sum</span><span class="p">(</span><span class="s1">'renewal_cost'</span><span class="p">))</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>    <span class="c1">###### Annual Reserve  #########</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>    <span class="n">_annual_reserve</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">system_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>        <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">)</span> \
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>        <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">'system_name'</span><span class="p">,</span> <span class="s1">'annual_reserve'</span><span class="p">)</span> 
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>    <span class="n">_data_annual_reserve</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'system_name'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s1">'annual_reserve'</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="s1">'annual_reserve'</span><span class="p">]}</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_annual_reserve</span><span class="p">]</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>    <span class="n">annual_sum</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>    <span class="n">qs_annual_data</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">system_names</span><span class="p">:</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>        <span class="n">qs_annual_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"system_name"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">],</span> <span class="s2">"label"</span><span class="p">:</span> <span class="n">name</span><span class="p">[</span><span class="s2">"label"</span><span class="p">],</span><span class="s2">"values"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_data_annual_reserve</span><span class="p">:</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>        <span class="n">system_name</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>        <span class="n">annual_reserve</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'NaN'</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">]:</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>            <span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>            <span class="n">annual_reserve</span> <span class="o">=</span> <span class="mf">0.00</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>            <span class="n">annual_reserve</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">"annual_reserve"</span><span class="p">]</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>        <span class="n">annual_sum</span> <span class="o">=</span> <span class="n">annual_sum</span> <span class="o">+</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">annual_reserve</span><span class="p">)</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>        <span class="n">index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">index</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">qs_annual_data</span><span class="p">)</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">"system_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">system_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>        <span class="n">qs_annual_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">qs_annual_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">"values"</span><span class="p">])</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">annual_reserve</span><span class="p">)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>    <span class="c1">###### End Annual Reserve  #########</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>    <span class="n">qs</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>        <span class="p">{</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'renewal_cost'</span><span class="p">,</span> 
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Renewal costs of assets"</span><span class="p">,</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_renewal</span><span class="p">,</span> 
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'non_stacked'</span><span class="p">,</span> 
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">renewal_sum</span><span class="p">},</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Replacement costs are based on current available costs and include the following components: Capital Costs - 65%, Contingency - 15%, Design - 10%, Inspections and Removal - 10%. As a starting point, a default replacement cost is applied for each asset type.  However, in some cases, where the above general formula is not applicable, or requires significantly less or more effort in one of the above areas, a custom cost might have been applied. This value will override the default value.'</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>        <span class="p">},</span>              
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>        <span class="p">{</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'maintenenance_cost'</span><span class="p">,</span> 
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Maintenance costs of assets"</span><span class="p">,</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_maintenance</span><span class="p">,</span> 
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'non_stacked'</span><span class="p">,</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">maintenance_sum</span><span class="p">},</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Maintenance costs are the estimated annual cost to maintain assets. As a starting point, a default value of 10</span><span class="si">% o</span><span class="s1">f the renewal cost is used'</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>        <span class="p">},</span>   
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>        <span class="p">{</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'annual_reserve'</span><span class="p">,</span> 
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Annual Average Infrastructure Demand"</span><span class="p">,</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_annual_data</span><span class="p">,</span> 
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'non_stacked'</span><span class="p">,</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'sum'</span><span class="p">:</span> <span class="n">annual_sum</span><span class="p">},</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>            <span class="s1">'description'</span><span class="p">:</span>  <span class="s2">"This graph uses lifespan projections and renewal costs for a long-term outlook of  infrastructure. This projection is theoretical and is not a realistic indication of spending timelines. A valuable output of this projection is an annualized infrastructure demand, indicated as a dotted line on the graph. This annualized value is obtained by dividing the renewal cost by the lifespan for each asset in the database and then summing the total. As lifespan and renewal cost data are updated, the annual infrastructure demand will update. The annual infrastructure demand could be lowered by committing to operations and maintenance programs to extend lifespans, deciding to rehabilitate versus replace, and more. The values shown in the graph is based on current $ values and the actual value of this average annual investment will increase over time with inflation."</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>        <span class="p">},</span>   
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>        <span class="p">{</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'system_risk_renewal'</span><span class="p">,</span> 
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Risk By System"</span><span class="p">,</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">qs_renewal_cost_of_assets</span><span class="p">,</span> 
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>            <span class="s2">"formatted"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_a</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">),</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>            <span class="s2">"total_bottom"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_a_total</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_a</span><span class="p">(</span><span class="n">qs_renewal_cost_of_assets</span><span class="p">)),</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'stacked_a'</span><span class="p">,</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">risk_renewal_of_assets_sum</span><span class="p">},</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'A risk value is obtained by combining Probability of Failure  (PoF) and Consequence of Failure (CoF) values as per the following matrix. It is common asset management practice to shift the matrix in favour of the consequence of failure,'</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>        <span class="p">},</span>        
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>        <span class="p">{</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'remaining_years_renewal_system'</span><span class="p">,</span> 
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Remaining Years by Renewal Cost by System"</span><span class="p">,</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">_remaining_years_renewal_cost</span><span class="p">,</span> 
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>            <span class="s2">"formatted"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">),</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>            <span class="s2">"total"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_total</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">),</span> <span class="n">system_names</span><span class="o">=</span><span class="n">system_names</span><span class="p">),</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>            <span class="s2">"graph"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_graph</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">),</span> <span class="n">system_names</span><span class="o">=</span><span class="n">system_names</span><span class="p">),</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>            <span class="s2">"pdf_table_1"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_1</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">)),</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>            <span class="s2">"pdf_table_2"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_2</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_b_list</span><span class="p">(</span><span class="n">system_names</span><span class="p">)),</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'stacked_b'</span><span class="p">,</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>            <span class="s1">'system_names'</span><span class="p">:</span> <span class="n">system_names</span><span class="p">,</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">risk_renewal_of_assets_sum</span><span class="p">},</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">''</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>        <span class="p">},</span>   
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>        <span class="p">{</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>            <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'remaining_years_renewal_risk'</span><span class="p">,</span> 
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Remaining Years by Renewal Cost by Risk"</span><span class="p">,</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>            <span class="s2">"qs"</span><span class="p">:</span> <span class="n">remaining_years_renewal_risk_cost</span><span class="p">,</span> 
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>            <span class="s2">"formatted"</span><span class="p">:</span>  <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">(),</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>            <span class="s2">"graph"</span><span class="p">:</span>  <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_graph</span><span class="p">(</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>            <span class="s2">"total"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_total</span><span class="p">(</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>            <span class="s2">"pdf_table_1"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_1</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>            <span class="s2">"pdf_table_2"</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">pdf_table_2</span><span class="p">(</span><span class="n">_dashboard</span><span class="o">.</span><span class="n">stacked_c_list</span><span class="p">()),</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'stacked_c'</span><span class="p">,</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>            <span class="s1">'risk_levels'</span><span class="p">:</span> <span class="n">_dashboard</span><span class="o">.</span><span class="n">risk_level_list</span><span class="p">,</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>            <span class="s1">'sum'</span><span class="p">:</span> <span class="p">{</span><span class="s2">"sum"</span><span class="p">:</span> <span class="n">risk_renewal_of_assets_sum</span><span class="p">},</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">''</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>        <span class="p">},</span>  
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>    <span class="p">]</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>    <span class="k">return</span> <span class="n">qs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.ReporterData.summary_cof" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">summary_cof</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.models.ReporterData.summary_cof" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">summary_cof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return summary of cof for specific community
The return will be grouped by class</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a><span class="k">def</span> <span class="nf">summary_cof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">    Return summary of cof for specific community</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a><span class="sd">    The return will be grouped by class</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a><span class="sd">    """</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>    <span class="n">cof_dict</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_summary</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="s1">'cof_name'</span><span class="p">)</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cof_dict</span><span class="p">:</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'nan'</span> <span class="ow">or</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>                <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>    <span class="k">return</span> <span class="n">cof_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.ReporterData.summary_pof" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">summary_pof</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.models.ReporterData.summary_pof" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">summary_pof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return summary of pof for specific community
The return will be grouped by class</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-571" name="__codelineno-0-571"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a><span class="k">def</span> <span class="nf">summary_pof</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a><span class="sd">    Return summary of pof for specific community</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a><span class="sd">    The return will be grouped by class</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a><span class="sd">    """</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>    <span class="n">pof_dict</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_summary</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="s1">'pof_name'</span><span class="p">)</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">pof_dict</span><span class="p">:</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'nan'</span> <span class="ow">or</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>                <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>    <span class="k">return</span> <span class="n">pof_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="civitas.models.ReporterData.summary_risk" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">summary_risk</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#civitas.models.ReporterData.summary_risk" class="headerlink" title="Permanent link">¶</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">summary_risk</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return summary of risk for specific community
The return will be grouped by class</p>

            <details class="quote">
              <summary>Source code in <code>django_project/civitas/models/view/reporter_data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-585" name="__codelineno-0-585"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a><span class="k">def</span> <span class="nf">summary_risk</span><span class="p">(</span><span class="n">community</span><span class="p">:</span> <span class="n">Community</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a><span class="w">    </span><span class="sd">"""</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a><span class="sd">    Return summary of risk for specific community</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a><span class="sd">    The return will be grouped by class</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a><span class="sd">    """</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>    <span class="n">risk_dict</span> <span class="o">=</span> <span class="n">ReporterData</span><span class="o">.</span><span class="n">_summary</span><span class="p">(</span><span class="n">community</span><span class="p">,</span> <span class="s1">'risk_level'</span><span class="p">)</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">risk_dict</span><span class="p">:</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="o">==</span> <span class="s1">'nan'</span> <span class="ow">or</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NaN'</span><span class="p">:</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>                <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>    <span class="k">return</span> <span class="n">risk_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.System" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.System</span>


<a href="#civitas.models.System" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>System is a collection of all of feature</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="civitas.models.Unit" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">civitas.models.Unit</span>


<a href="#civitas.models.Unit" class="headerlink" title="Permanent link">¶</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="civitas.models.general._Term">_Term</span></code></p>


      <p>Unit</p>




  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><h1 id="serializers">Serializers<a class="headerlink" href="#serializers" title="Permanent link">¶</a></h1>


<div class="doc doc-object doc-module">



<h1 id="civitas.serializer" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">civitas.serializer</span>


<a href="#civitas.serializer" class="headerlink" title="Permanent link">¶</a></h1>

    <div class="doc doc-contents first">



  <div class="doc doc-children">











  </div>

    </div>

</div><h1 id="utilities">Utilities<a class="headerlink" href="#utilities" title="Permanent link">¶</a></h1>


<div class="doc doc-object doc-module">



<h1 id="civitas.views" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">civitas.views</span>


<a href="#civitas.views" class="headerlink" title="Permanent link">¶</a></h1>

    <div class="doc doc-contents first">



  <div class="doc doc-children">











  </div>

    </div>

</div><h1 id="views">Views<a class="headerlink" href="#views" title="Permanent link">¶</a></h1>


<div class="doc doc-object doc-module">



<h1 id="civitas.views" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">civitas.views</span>


<a href="#civitas.views" class="headerlink" title="Permanent link">¶</a></h1>

    <div class="doc doc-contents first">



  <div class="doc doc-children">











  </div>

    </div>

</div></div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Kartoza and Contributors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/kartoza" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://hub.docker.com/r/kartoza/" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/KartozaGeo" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://kartoza.com" target="_blank" rel="noopener" title="kartoza.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://kartoza.com" target="_blank" rel="noopener" title="kartoza.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m177.8 63.2 10 17.4c2.8 4.8 4.2 10.3 4.2 15.9v41.4c0 3.9 1.6 7.7 4.3 10.4 6.2 6.2 16.5 5.7 22-1.2l13.6-17c4.7-5.9 12.9-7.7 19.6-4.3l15.2 7.6c3.4 1.7 7.2 2.6 11 2.6 6.5 0 12.8-2.6 17.4-7.2l3.9-3.9c2.9-2.9 7.3-3.6 11-1.8l29.2 14.6c7.8 3.9 12.6 11.8 12.6 20.5 0 10.5-7.1 19.6-17.3 22.2l-35.4 8.8c-7.4 1.8-15.1 1.5-22.3-.9l-32-10.7c-3.3-1.1-6.7-1.7-10.2-1.7-7 0-13.8 2.3-19.4 6.5L176 212c-10.1 7.6-16 19.4-16 32v28c0 26.5 21.5 48 48 48h32c8.8 0 16 7.2 16 16v48c0 17.7 14.3 32 32 32 10.1 0 19.6-4.7 25.6-12.8l25.6-34.1c8.3-11.1 12.8-24.6 12.8-38.4v-12.1c0-3.9 2.6-7.3 6.4-8.2l5.3-1.3c11.9-3 20.3-13.7 20.3-26 0-7.1-2.8-13.9-7.8-18.9l-33.5-33.5c-3.7-3.7-3.7-9.7 0-13.4 5.7-5.7 14.1-7.7 21.8-5.1l14.1 4.7c12.3 4.1 25.7-1.5 31.5-13 3.5-7 11.2-10.8 18.9-9.2l27.4 5.5C432 112.4 351.5 48 256 48c-27.7 0-54 5.4-78.2 15.2zM512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.tabs.link", "header.autohide", "navigation.indexes", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../../js/tablesort.js"></script>
      
    
  </body>
</html>